import{R as e}from"./router-B6UZmQX4.js";import{aV as t}from"./index-CYK67J1M.js";var r=e=>"checkbox"===e.type,n=e=>e instanceof Date,s=e=>null==e;const i=e=>"object"==typeof e;var o=e=>!s(e)&&!Array.isArray(e)&&i(e)&&!n(e),a=e=>o(e)&&e.target?r(e.target)?e.target.checked:e.target.value:e,u=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),c="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function l(e){let t;const r=Array.isArray(e),n="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(c&&(e instanceof Blob||n)||!r&&!o(e))return e;if(t=r?[]:Object.create(Object.getPrototypeOf(e)),r||(e=>{const t=e.constructor&&e.constructor.prototype;return o(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=l(e[r]));else t=e}return t}var d=e=>/^\w*$/.test(e),f=e=>void 0===e,p=e=>Array.isArray(e)?e.filter(Boolean):[],m=e=>p(e.replace(/["|']|\]/g,"").split(/\.|\[/)),h=(e,t,r)=>{if(!t||!o(e))return r;const n=(d(t)?[t]:m(t)).reduce((e,t)=>s(e)?e:e[t],e);return f(n)||n===e?f(e[t])?r:e[t]:n},_=e=>"boolean"==typeof e,y=(e,t,r)=>{let n=-1;const s=d(t)?[t]:m(t),i=s.length,a=i-1;for(;++n<i;){const t=s[n];let i=r;if(n!==a){const r=e[t];i=o(r)||Array.isArray(r)?r:isNaN(+s[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=i,e=e[t]}};const g="blur",v="focusout",w="change",b="onBlur",k="onChange",z="onSubmit",x="onTouched",A="all",S="max",E="min",$="maxLength",F="minLength",V="pattern",O="required",Z="validate",j=e.createContext(null);j.displayName="HookFormContext";const D=()=>e.useContext(j);var P=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const s=i;return t._proxyFormState[s]!==A&&(t._proxyFormState[s]=!n||A),r&&(r[s]=!0),e[s]}});return s};const T="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;var I=e=>"string"==typeof e,C=(e,t,r,n,s)=>I(e)?(n&&t.watch.add(e),h(r,e,s)):Array.isArray(e)?e.map(e=>(n&&t.watch.add(e),h(r,e))):(n&&(t.watchAll=!0),r),U=e=>s(e)||!i(e);function R(e,t,r=new WeakSet){if(U(e)||U(t))return e===t;if(n(e)&&n(t))return e.getTime()===t.getTime();const s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of s){const s=e[a];if(!i.includes(a))return!1;if("ref"!==a){const e=t[a];if(n(s)&&n(e)||o(s)&&o(e)||Array.isArray(s)&&Array.isArray(e)?!R(s,e,r):s!==e)return!1}}return!0}function M(t){const r=D(),{name:n,disabled:s,control:i=r.control,shouldUnregister:o,defaultValue:c}=t,d=u(i._names.array,n),p=e.useMemo(()=>h(i._formValues,n,h(i._defaultValues,n,c)),[i,n,c]),m=function(t){const r=D(),{control:n=r.control,name:s,defaultValue:i,disabled:o,exact:a,compute:u}=t||{},c=e.useRef(i),l=e.useRef(u),d=e.useRef(void 0);l.current=u;const f=e.useMemo(()=>n._getWatch(s,c.current),[n,s]),[p,m]=e.useState(l.current?l.current(f):f);return T(()=>n._subscribe({name:s,formState:{values:!0},exact:a,callback:e=>{if(!o){const t=C(s,n._names,e.values||n._formValues,!1,c.current);if(l.current){const e=l.current(t);R(e,d.current)||(m(e),d.current=e)}else m(t)}}}),[n,o,s,a]),e.useEffect(()=>n._removeUnmounted()),p}({control:i,name:n,defaultValue:p,exact:!0}),v=function(t){const r=D(),{control:n=r.control,disabled:s,name:i,exact:o}=t||{},[a,u]=e.useState(n._formState),c=e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return T(()=>n._subscribe({name:i,formState:c.current,exact:o,callback:e=>{!s&&u({...n._formState,...e})}}),[i,s,o]),e.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),e.useMemo(()=>P(a,n,c.current,!1),[a,n])}({control:i,name:n,exact:!0}),b=e.useRef(t),k=e.useRef(i.register(n,{...t.rules,value:m,..._(t.disabled)?{disabled:t.disabled}:{}}));b.current=t;const z=e.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!h(v.errors,n)},isDirty:{enumerable:!0,get:()=>!!h(v.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!h(v.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!h(v.validatingFields,n)},error:{enumerable:!0,get:()=>h(v.errors,n)}}),[v,n]),x=e.useCallback(e=>k.current.onChange({target:{value:a(e),name:n},type:w}),[n]),A=e.useCallback(()=>k.current.onBlur({target:{value:h(i._formValues,n),name:n},type:g}),[n,i._formValues]),S=e.useCallback(e=>{const t=h(i._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus&&e.focus(),select:()=>e.select&&e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})},[i._fields,n]),E=e.useMemo(()=>({name:n,value:m,..._(s)||v.disabled?{disabled:v.disabled||s}:{},onChange:x,onBlur:A,ref:S}),[n,s,v.disabled,x,A,S,m]);return e.useEffect(()=>{const e=i._options.shouldUnregister||o;i.register(n,{...b.current.rules,..._(b.current.disabled)?{disabled:b.current.disabled}:{}});const t=(e,t)=>{const r=h(i._fields,e);r&&r._f&&(r._f.mount=t)};if(t(n,!0),e){const e=l(h(i._options.defaultValues,n));y(i._defaultValues,n,e),f(h(i._formValues,n))&&y(i._formValues,n,e)}return!d&&i.register(n),()=>{(d?e&&!i._state.action:e)?i.unregister(n):t(n,!1)}},[n,i,d,o]),e.useEffect(()=>{i._setDisabledField({disabled:s,name:n})},[s,n,i]),e.useMemo(()=>({field:E,formState:v,fieldState:z}),[E,v,z])}const N=e=>e.render(M(e));var q=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},L=e=>Array.isArray(e)?e:[e],B=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},J=e=>o(e)&&!Object.keys(e).length,W=e=>"file"===e.type,Y=e=>"function"==typeof e,Q=e=>{if(!c)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},X=e=>"select-multiple"===e.type,H=e=>"radio"===e.type,G=e=>Q(e)&&e.isConnected;function K(e,t){const r=Array.isArray(t)?t:d(t)?[t]:m(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=f(e)?n++:e[t[n++]];return e}(e,r),s=r.length-1,i=r[s];return n&&delete n[i],0!==s&&(o(n)&&J(n)||Array.isArray(n)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!f(e[t]))return!1;return!0}(n))&&K(e,r.slice(0,-1)),e}var ee=e=>{for(const t in e)if(Y(e[t]))return!0;return!1};function te(e,t={}){const r=Array.isArray(e);if(o(e)||r)for(const n in e)Array.isArray(e[n])||o(e[n])&&!ee(e[n])?(t[n]=Array.isArray(e[n])?[]:{},te(e[n],t[n])):s(e[n])||(t[n]=!0);return t}function re(e,t,r){const n=Array.isArray(e);if(o(e)||n)for(const i in e)Array.isArray(e[i])||o(e[i])&&!ee(e[i])?f(t)||U(r[i])?r[i]=Array.isArray(e[i])?te(e[i],[]):{...te(e[i])}:re(e[i],s(t)?{}:t[i],r[i]):r[i]=!R(e[i],t[i]);return r}var ne=(e,t)=>re(e,t,te(t));const se={value:!1,isValid:!1},ie={value:!0,isValid:!0};var oe=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!f(e[0].attributes.value)?f(e[0].value)||""===e[0].value?ie:{value:e[0].value,isValid:!0}:ie:se}return se},ae=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>f(e)?e:t?""===e?NaN:e?+e:e:r&&I(e)?new Date(e):n?n(e):e;const ue={isValid:!1,value:null};var ce=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ue):ue;function le(e){const t=e.ref;return W(t)?t.files:H(t)?ce(e.refs).value:X(t)?[...t.selectedOptions].map(({value:e})=>e):r(t)?oe(e.refs).value:ae(f(t.value)?e.ref.value:t.value,e)}var de=e=>e instanceof RegExp,fe=e=>f(e)?e:de(e)?e.source:o(e)?de(e.value)?e.value.source:e.value:e,pe=e=>({isOnSubmit:!e||e===z,isOnBlur:e===b,isOnChange:e===k,isOnAll:e===A,isOnTouch:e===x});const me="AsyncFunction";var he=e=>!!e&&!!e.validate&&!!(Y(e.validate)&&e.validate.constructor.name===me||o(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===me)),_e=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const ye=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const r=h(e,s);if(r){const{_f:e,...i}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],s)&&!n)return!0;if(e.ref&&t(e.ref,e.name)&&!n)return!0;if(ye(i,t))break}else if(o(i)&&ye(i,t))break}}};function ge(e,t,r){const n=h(e,r);if(n||d(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const n=s.join("."),i=h(t,n),o=h(e,n);if(i&&!Array.isArray(i)&&r!==n)return{name:r};if(o&&o.type)return{name:n,error:o};if(o&&o.root&&o.root.type)return{name:`${n}.root`,error:o.root};s.pop()}return{name:r}}var ve=(e,t,r)=>{const n=L(h(e,r));return y(n,"root",t[r]),y(e,r,n),e},we=e=>I(e);function be(e,t,r="validate"){if(we(e)||Array.isArray(e)&&e.every(we)||_(e)&&!e)return{type:r,message:we(e)?e:"",ref:t}}var ke=e=>o(e)&&!de(e)?e:{value:e,message:""},ze=async(e,t,n,i,a,u)=>{const{ref:c,refs:l,required:d,maxLength:p,minLength:m,min:y,max:g,pattern:v,validate:w,name:b,valueAsNumber:k,mount:z}=e._f,x=h(n,b);if(!z||t.has(b))return{};const A=l?l[0]:c,j=e=>{a&&A.reportValidity&&(A.setCustomValidity(_(e)?"":e||""),A.reportValidity())},D={},P=H(c),T=r(c),C=P||T,U=(k||W(c))&&f(c.value)&&f(x)||Q(c)&&""===c.value||""===x||Array.isArray(x)&&!x.length,R=q.bind(null,b,i,D),M=(e,t,r,n=$,s=F)=>{const i=e?t:r;D[b]={type:e?n:s,message:i,ref:c,...R(e?n:s,i)}};if(u?!Array.isArray(x)||!x.length:d&&(!C&&(U||s(x))||_(x)&&!x||T&&!oe(l).isValid||P&&!ce(l).isValid)){const{value:e,message:t}=we(d)?{value:!!d,message:d}:ke(d);if(e&&(D[b]={type:O,message:t,ref:A,...R(O,t)},!i))return j(t),D}if(!(U||s(y)&&s(g))){let e,t;const r=ke(g),n=ke(y);if(s(x)||isNaN(x)){const s=c.valueAsDate||new Date(x),i=e=>new Date((new Date).toDateString()+" "+e),o="time"==c.type,a="week"==c.type;I(r.value)&&x&&(e=o?i(x)>i(r.value):a?x>r.value:s>new Date(r.value)),I(n.value)&&x&&(t=o?i(x)<i(n.value):a?x<n.value:s<new Date(n.value))}else{const i=c.valueAsNumber||(x?+x:x);s(r.value)||(e=i>r.value),s(n.value)||(t=i<n.value)}if((e||t)&&(M(!!e,r.message,n.message,S,E),!i))return j(D[b].message),D}if((p||m)&&!U&&(I(x)||u&&Array.isArray(x))){const e=ke(p),t=ke(m),r=!s(e.value)&&x.length>+e.value,n=!s(t.value)&&x.length<+t.value;if((r||n)&&(M(r,e.message,t.message),!i))return j(D[b].message),D}if(v&&!U&&I(x)){const{value:e,message:t}=ke(v);if(de(e)&&!x.match(e)&&(D[b]={type:V,message:t,ref:c,...R(V,t)},!i))return j(t),D}if(w)if(Y(w)){const e=be(await w(x,n),A);if(e&&(D[b]={...e,...R(Z,e.message)},!i))return j(e.message),D}else if(o(w)){let e={};for(const t in w){if(!J(e)&&!i)break;const r=be(await w[t](x,n),A,t);r&&(e={...r,...R(t,r.message)},j(r.message),i&&(D[b]=e))}if(!J(e)&&(D[b]={ref:A,...e},!i))return D}return j(!0),D};const xe={mode:z,reValidateMode:k,shouldFocusError:!0};function Ae(e={}){let t,i={...xe,...e},d={submitCount:0,isDirty:!1,isReady:!1,isLoading:Y(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1},m={},w=(o(i.defaultValues)||o(i.values))&&l(i.defaultValues||i.values)||{},b=i.shouldUnregister?{}:l(w),k={action:!1,mount:!1,watch:!1},z={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},x=0;const S={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let E={...S};const $={array:B(),state:B()},F=i.criteriaMode===A,V=async e=>{if(!i.disabled&&(S.isValid||E.isValid||e)){const e=i.resolver?J((await P()).errors):await T(m,!0);e!==d.isValid&&$.state.next({isValid:e})}},O=(e,t)=>{!i.disabled&&(S.isValidating||S.validatingFields||E.isValidating||E.validatingFields)&&((e||Array.from(z.mount)).forEach(e=>{e&&(t?y(d.validatingFields,e,t):K(d.validatingFields,e))}),$.state.next({validatingFields:d.validatingFields,isValidating:!J(d.validatingFields)}))},Z=(e,t,r,n)=>{const s=h(m,e);if(s){const i=h(b,e,f(r)?h(w,e):r);f(i)||n&&n.defaultChecked||t?y(b,e,t?i:le(s._f)):N(e,i),k.mount&&V()}},j=(e,t,r,n,s)=>{let o=!1,a=!1;const u={name:e};if(!i.disabled){if(!r||n){(S.isDirty||E.isDirty)&&(a=d.isDirty,d.isDirty=u.isDirty=U(),o=a!==u.isDirty);const r=R(h(w,e),t);a=!!h(d.dirtyFields,e),r?K(d.dirtyFields,e):y(d.dirtyFields,e,!0),u.dirtyFields=d.dirtyFields,o=o||(S.dirtyFields||E.dirtyFields)&&a!==!r}if(r){const t=h(d.touchedFields,e);t||(y(d.touchedFields,e,r),u.touchedFields=d.touchedFields,o=o||(S.touchedFields||E.touchedFields)&&t!==r)}o&&s&&$.state.next(u)}return o?u:{}},D=(e,r,n,s)=>{const o=h(d.errors,e),a=(S.isValid||E.isValid)&&_(r)&&d.isValid!==r;var u;if(i.delayError&&n?(u=()=>((e,t)=>{y(d.errors,e,t),$.state.next({errors:d.errors})})(e,n),t=e=>{clearTimeout(x),x=setTimeout(u,e)},t(i.delayError)):(clearTimeout(x),t=null,n?y(d.errors,e,n):K(d.errors,e)),(n?!R(o,n):o)||!J(s)||a){const t={...s,...a&&_(r)?{isValid:r}:{},errors:d.errors,name:e};d={...d,...t},$.state.next(t)}},P=async e=>{O(e,!0);const t=await i.resolver(b,i.context,((e,t,r,n)=>{const s={};for(const i of e){const e=h(t,i);e&&y(s,i,e._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}})(e||z.mount,m,i.criteriaMode,i.shouldUseNativeValidation));return O(e),t},T=async(e,t,r={valid:!0})=>{for(const n in e){const s=e[n];if(s){const{_f:e,...o}=s;if(e){const o=z.array.has(e.name),a=s._f&&he(s._f);a&&S.validatingFields&&O([n],!0);const u=await ze(s,z.disabled,b,F,i.shouldUseNativeValidation&&!t,o);if(a&&S.validatingFields&&O([n]),u[e.name]&&(r.valid=!1,t))break;!t&&(h(u,e.name)?o?ve(d.errors,u,e.name):y(d.errors,e.name,u[e.name]):K(d.errors,e.name))}!J(o)&&await T(o,t,r)}}return r.valid},U=(e,t)=>!i.disabled&&(e&&t&&y(b,e,t),!R(ie(),w)),M=(e,t,r)=>C(e,z,{...k.mount?b:f(t)?w:I(e)?{[e]:t}:t},r,t),N=(e,t,n={})=>{const i=h(m,e);let o=t;if(i){const n=i._f;n&&(!n.disabled&&y(b,e,ae(t,n)),o=Q(n.ref)&&s(t)?"":t,X(n.ref)?[...n.ref.options].forEach(e=>e.selected=o.includes(e.value)):n.refs?r(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(o)?e.checked=!!o.find(t=>t===e.value):e.checked=o===e.value||!!o)}):n.refs.forEach(e=>e.checked=e.value===o):W(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||$.state.next({name:e,values:l(b)})))}(n.shouldDirty||n.shouldTouch)&&j(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&se(e)},q=(e,t,r)=>{for(const s in t){if(!t.hasOwnProperty(s))return;const i=t[s],a=e+"."+s,u=h(m,a);(z.array.has(e)||o(i)||u&&!u._f)&&!n(i)?q(a,i,r):N(a,i,r)}},ee=(e,t,r={})=>{const n=h(m,e),i=z.array.has(e),o=l(t);y(b,e,o),i?($.array.next({name:e,values:l(b)}),(S.isDirty||S.dirtyFields||E.isDirty||E.dirtyFields)&&r.shouldDirty&&$.state.next({name:e,dirtyFields:ne(w,b),isDirty:U(e,o)})):!n||n._f||s(o)?N(e,o,r):q(e,o,r),_e(e,z)&&$.state.next({...d,name:e}),$.state.next({name:k.mount?e:void 0,values:l(b)})},te=async e=>{k.mount=!0;const r=e.target;let s=r.name,o=!0;const u=h(m,s),c=e=>{o=Number.isNaN(e)||n(e)&&isNaN(e.getTime())||R(e,h(b,s,e))},f=pe(i.mode),p=pe(i.reValidateMode);if(u){let n,w;const k=r.type?le(u._f):a(e),x=e.type===g||e.type===v,A=!((_=u._f).mount&&(_.required||_.min||_.max||_.maxLength||_.minLength||_.pattern||_.validate)||i.resolver||h(d.errors,s)||u._f.deps)||((e,t,r,n,s)=>!s.isOnAll&&(!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:!(r?n.isOnChange:s.isOnChange)||e))(x,h(d.touchedFields,s),d.isSubmitted,p,f),Z=_e(s,z,x);y(b,s,k),x?r&&r.readOnly||(u._f.onBlur&&u._f.onBlur(e),t&&t(0)):u._f.onChange&&u._f.onChange(e);const I=j(s,k,x),C=!J(I)||Z;if(!x&&$.state.next({name:s,type:e.type,values:l(b)}),A)return(S.isValid||E.isValid)&&("onBlur"===i.mode?x&&V():x||V()),C&&$.state.next({name:s,...Z?{}:I});if(!x&&Z&&$.state.next({...d}),i.resolver){const{errors:e}=await P([s]);if(c(k),o){const t=ge(d.errors,m,s),r=ge(e,m,t.name||s);n=r.error,s=r.name,w=J(e)}}else O([s],!0),n=(await ze(u,z.disabled,b,F,i.shouldUseNativeValidation))[s],O([s]),c(k),o&&(n?w=!1:(S.isValid||E.isValid)&&(w=await T(m,!0)));o&&(u._f.deps&&se(u._f.deps),D(s,w,n,I))}var _},re=(e,t)=>{if(h(d.errors,t)&&e.focus)return e.focus(),1},se=async(e,t={})=>{let r,n;const s=L(e);if(i.resolver){const t=await(async e=>{const{errors:t}=await P(e);if(e)for(const r of e){const e=h(t,r);e?y(d.errors,r,e):K(d.errors,r)}else d.errors=t;return t})(f(e)?e:s);r=J(t),n=e?!s.some(e=>h(t,e)):r}else e?(n=(await Promise.all(s.map(async e=>{const t=h(m,e);return await T(t&&t._f?{[e]:t}:t)}))).every(Boolean),(n||d.isValid)&&V()):n=r=await T(m);return $.state.next({...!I(e)||(S.isValid||E.isValid)&&r!==d.isValid?{}:{name:e},...i.resolver||!e?{isValid:r}:{},errors:d.errors}),t.shouldFocus&&!n&&ye(m,re,e?s:z.mount),n},ie=e=>{const t={...k.mount?b:w};return f(e)?t:I(e)?h(t,e):e.map(e=>h(t,e))},oe=(e,t)=>({invalid:!!h((t||d).errors,e),isDirty:!!h((t||d).dirtyFields,e),error:h((t||d).errors,e),isValidating:!!h(d.validatingFields,e),isTouched:!!h((t||d).touchedFields,e)}),ue=(e,t,r)=>{const n=(h(m,e,{_f:{}})._f||{}).ref,s=h(d.errors,e)||{},{ref:i,message:o,type:a,...u}=s;y(d.errors,e,{...u,...t,ref:n}),$.state.next({name:e,errors:d.errors,isValid:!1}),r&&r.shouldFocus&&n&&n.focus&&n.focus()},ce=e=>$.state.subscribe({next:t=>{var r,n,s;r=e.name,n=t.name,s=e.exact,r&&n&&r!==n&&!L(r).some(e=>e&&(s?e===n:e.startsWith(n)||n.startsWith(e)))||!((e,t,r,n)=>{r(e);const{name:s,...i}=e;return J(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(e=>t[e]===(!n||A))})(t,e.formState||S,Ee,e.reRenderRoot)||e.callback({values:{...b},...d,...t,defaultValues:w})}}).unsubscribe,de=(e,t={})=>{for(const r of e?L(e):z.mount)z.mount.delete(r),z.array.delete(r),t.keepValue||(K(m,r),K(b,r)),!t.keepError&&K(d.errors,r),!t.keepDirty&&K(d.dirtyFields,r),!t.keepTouched&&K(d.touchedFields,r),!t.keepIsValidating&&K(d.validatingFields,r),!i.shouldUnregister&&!t.keepDefaultValue&&K(w,r);$.state.next({values:l(b)}),$.state.next({...d,...t.keepDirty?{isDirty:U()}:{}}),!t.keepIsValid&&V()},me=({disabled:e,name:t})=>{(_(e)&&k.mount||e||z.disabled.has(t))&&(e?z.disabled.add(t):z.disabled.delete(t))},we=(e,t={})=>{let n=h(m,e);const s=_(t.disabled)||_(i.disabled);return y(m,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),z.mount.add(e),n?me({disabled:_(t.disabled)?t.disabled:i.disabled,name:e}):Z(e,!0,t.value),{...s?{disabled:t.disabled||i.disabled}:{},...i.progressive?{required:!!t.required,min:fe(t.min),max:fe(t.max),minLength:fe(t.minLength),maxLength:fe(t.maxLength),pattern:fe(t.pattern)}:{},name:e,onChange:te,onBlur:te,ref:s=>{if(s){we(e,t),n=h(m,e);const i=f(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,o=(e=>H(e)||r(e))(i),a=n._f.refs||[];if(o?a.find(e=>e===i):i===n._f.ref)return;y(m,e,{_f:{...n._f,...o?{refs:[...a.filter(G),i,...Array.isArray(h(w,e))?[{}]:[]],ref:{type:i.type,name:e}}:{ref:i}}}),Z(e,!1,void 0,i)}else n=h(m,e,{}),n._f&&(n._f.mount=!1),(i.shouldUnregister||t.shouldUnregister)&&(!u(z.array,e)||!k.action)&&z.unMount.add(e)}}},be=()=>i.shouldFocusError&&ye(m,re,z.mount),ke=(e,t)=>async r=>{let n;r&&(r.preventDefault&&r.preventDefault(),r.persist&&r.persist());let s=l(b);if($.state.next({isSubmitting:!0}),i.resolver){const{errors:e,values:t}=await P();d.errors=e,s=l(t)}else await T(m);if(z.disabled.size)for(const e of z.disabled)K(s,e);if(K(d.errors,"root"),J(d.errors)){$.state.next({errors:{}});try{await e(s,r)}catch(o){n=o}}else t&&await t({...d.errors},r),be(),setTimeout(be);if($.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:J(d.errors)&&!n,submitCount:d.submitCount+1,errors:d.errors}),n)throw n},Ae=(e,t={})=>{const r=e?l(e):w,n=l(r),s=J(e),o=s?w:n;if(t.keepDefaultValues||(w=r),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...z.mount,...Object.keys(ne(w,b))]);for(const t of Array.from(e))h(d.dirtyFields,t)?y(o,t,h(b,t)):ee(t,h(o,t))}else{if(c&&f(e))for(const e of z.mount){const t=h(m,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Q(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of z.mount)ee(e,h(o,e));else m={}}b=i.shouldUnregister?t.keepDefaultValues?l(w):{}:l(o),$.array.next({values:{...o}}),$.state.next({values:{...o}})}z={mount:t.keepDirtyValues?z.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},k.mount=!S.isValid||!!t.keepIsValid||!!t.keepDirtyValues,k.watch=!!i.shouldUnregister,$.state.next({submitCount:t.keepSubmitCount?d.submitCount:0,isDirty:!s&&(t.keepDirty?d.isDirty:!(!t.keepDefaultValues||R(e,w))),isSubmitted:!!t.keepIsSubmitted&&d.isSubmitted,dirtyFields:s?{}:t.keepDirtyValues?t.keepDefaultValues&&b?ne(w,b):d.dirtyFields:t.keepDefaultValues&&e?ne(w,e):t.keepDirty?d.dirtyFields:{},touchedFields:t.keepTouched?d.touchedFields:{},errors:t.keepErrors?d.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&d.isSubmitSuccessful,isSubmitting:!1,defaultValues:w})},Se=(e,t)=>Ae(Y(e)?e(b):e,t),Ee=e=>{d={...d,...e}},$e={control:{register:we,unregister:de,getFieldState:oe,handleSubmit:ke,setError:ue,_subscribe:ce,_runSchema:P,_focusError:be,_getWatch:M,_getDirty:U,_setValid:V,_setFieldArray:(e,t=[],r,n,s=!0,o=!0)=>{if(n&&r&&!i.disabled){if(k.action=!0,o&&Array.isArray(h(m,e))){const t=r(h(m,e),n.argA,n.argB);s&&y(m,e,t)}if(o&&Array.isArray(h(d.errors,e))){const t=r(h(d.errors,e),n.argA,n.argB);s&&y(d.errors,e,t),((e,t)=>{!p(h(e,t)).length&&K(e,t)})(d.errors,e)}if((S.touchedFields||E.touchedFields)&&o&&Array.isArray(h(d.touchedFields,e))){const t=r(h(d.touchedFields,e),n.argA,n.argB);s&&y(d.touchedFields,e,t)}(S.dirtyFields||E.dirtyFields)&&(d.dirtyFields=ne(w,b)),$.state.next({name:e,isDirty:U(e,t),dirtyFields:d.dirtyFields,errors:d.errors,isValid:d.isValid})}else y(b,e,t)},_setDisabledField:me,_setErrors:e=>{d.errors=e,$.state.next({errors:d.errors,isValid:!1})},_getFieldArray:e=>p(h(k.mount?b:w,e,i.shouldUnregister?h(w,e,[]):[])),_reset:Ae,_resetDefaultValues:()=>Y(i.defaultValues)&&i.defaultValues().then(e=>{Se(e,i.resetOptions),$.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of z.unMount){const t=h(m,e);t&&(t._f.refs?t._f.refs.every(e=>!G(e)):!G(t._f.ref))&&de(e)}z.unMount=new Set},_disableForm:e=>{_(e)&&($.state.next({disabled:e}),ye(m,(t,r)=>{const n=h(m,r);n&&(t.disabled=n._f.disabled||e,Array.isArray(n._f.refs)&&n._f.refs.forEach(t=>{t.disabled=n._f.disabled||e}))},0,!1))},_subjects:$,_proxyFormState:S,get _fields(){return m},get _formValues(){return b},get _state(){return k},set _state(e){k=e},get _defaultValues(){return w},get _names(){return z},set _names(e){z=e},get _formState(){return d},get _options(){return i},set _options(e){i={...i,...e}}},subscribe:e=>(k.mount=!0,E={...E,...e.formState},ce({...e,formState:E})),trigger:se,register:we,handleSubmit:ke,watch:(e,t)=>Y(e)?$.state.subscribe({next:r=>"values"in r&&e(M(void 0,t),r)}):M(e,t,!0),setValue:ee,getValues:ie,reset:Se,resetField:(e,t={})=>{h(m,e)&&(f(t.defaultValue)?ee(e,l(h(w,e))):(ee(e,t.defaultValue),y(w,e,l(t.defaultValue))),t.keepTouched||K(d.touchedFields,e),t.keepDirty||(K(d.dirtyFields,e),d.isDirty=t.defaultValue?U(e,l(h(w,e))):U()),t.keepError||(K(d.errors,e),S.isValid&&V()),$.state.next({...d}))},clearErrors:e=>{e&&L(e).forEach(e=>K(d.errors,e)),$.state.next({errors:e?d.errors:{}})},unregister:de,setError:ue,setFocus:(e,t={})=>{const r=h(m,e),n=r&&r._f;if(n){const e=n.refs?n.refs[0]:n.ref;e.focus&&(e.focus(),t.shouldSelect&&Y(e.select)&&e.select())}},getFieldState:oe};return{...$e,formControl:$e}}var Se=()=>{if("undefined"!=typeof crypto&&crypto.randomUUID)return crypto.randomUUID();const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)})},Ee=(e,t,r={})=>r.shouldFocus||f(r.shouldFocus)?r.focusName||`${e}.${f(r.focusIndex)?t:r.focusIndex}.`:"",$e=(e,t)=>[...e,...L(t)],Fe=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ve(e,t,r){return[...e.slice(0,t),...L(r),...e.slice(t)]}var Oe=(e,t,r)=>Array.isArray(e)?(f(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[],Ze=(e,t)=>[...L(t),...L(e)];var je=(e,t)=>f(t)?[]:function(e,t){let r=0;const n=[...e];for(const s of t)n.splice(s-r,1),r++;return p(n).length?n:[]}(e,L(t).sort((e,t)=>e-t)),De=(e,t,r)=>{[e[t],e[r]]=[e[r],e[t]]},Pe=(e,t,r)=>(e[t]=r,e);function Te(t){const r=D(),{control:n=r.control,name:s,keyName:i="id",shouldUnregister:o,rules:a}=t,[u,c]=e.useState(n._getFieldArray(s)),d=e.useRef(n._getFieldArray(s).map(Se)),f=e.useRef(u),p=e.useRef(!1);f.current=u,n._names.array.add(s),e.useMemo(()=>a&&n.register(s,a),[n,a,s]),T(()=>n._subjects.array.subscribe({next:({values:e,name:t})=>{if(t===s||!t){const t=h(e,s);Array.isArray(t)&&(c(t),d.current=t.map(Se))}}}).unsubscribe,[n,s]);const m=e.useCallback(e=>{p.current=!0,n._setFieldArray(s,e)},[n,s]);return e.useEffect(()=>{if(n._state.action=!1,_e(s,n._names)&&n._subjects.state.next({...n._formState}),p.current&&(!pe(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!pe(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([s]).then(e=>{const t=h(e.errors,s),r=h(n._formState.errors,s);(r?!t&&r.type||t&&(r.type!==t.type||r.message!==t.message):t&&t.type)&&(t?y(n._formState.errors,s,t):K(n._formState.errors,s),n._subjects.state.next({errors:n._formState.errors}))});else{const e=h(n._fields,s);!e||!e._f||pe(n._options.reValidateMode).isOnSubmit&&pe(n._options.mode).isOnSubmit||ze(e,n._names.disabled,n._formValues,n._options.criteriaMode===A,n._options.shouldUseNativeValidation,!0).then(e=>!J(e)&&n._subjects.state.next({errors:ve(n._formState.errors,e,s)}))}n._subjects.state.next({name:s,values:l(n._formValues)}),n._names.focus&&ye(n._fields,(e,t)=>{if(n._names.focus&&t.startsWith(n._names.focus)&&e.focus)return e.focus(),1}),n._names.focus="",n._setValid(),p.current=!1},[u,s,n]),e.useEffect(()=>(!h(n._formValues,s)&&n._setFieldArray(s),()=>{n._options.shouldUnregister||o?n.unregister(s):((e,t)=>{const r=h(n._fields,e);r&&r._f&&(r._f.mount=t)})(s,!1)}),[s,n,i,o]),{swap:e.useCallback((e,t)=>{const r=n._getFieldArray(s);De(r,e,t),De(d.current,e,t),m(r),c(r),n._setFieldArray(s,r,De,{argA:e,argB:t},!1)},[m,s,n]),move:e.useCallback((e,t)=>{const r=n._getFieldArray(s);Oe(r,e,t),Oe(d.current,e,t),m(r),c(r),n._setFieldArray(s,r,Oe,{argA:e,argB:t},!1)},[m,s,n]),prepend:e.useCallback((e,t)=>{const r=L(l(e)),i=Ze(n._getFieldArray(s),r);n._names.focus=Ee(s,0,t),d.current=Ze(d.current,r.map(Se)),m(i),c(i),n._setFieldArray(s,i,Ze,{argA:Fe(e)})},[m,s,n]),append:e.useCallback((e,t)=>{const r=L(l(e)),i=$e(n._getFieldArray(s),r);n._names.focus=Ee(s,i.length-1,t),d.current=$e(d.current,r.map(Se)),m(i),c(i),n._setFieldArray(s,i,$e,{argA:Fe(e)})},[m,s,n]),remove:e.useCallback(e=>{const t=je(n._getFieldArray(s),e);d.current=je(d.current,e),m(t),c(t),!Array.isArray(h(n._fields,s))&&y(n._fields,s,void 0),n._setFieldArray(s,t,je,{argA:e})},[m,s,n]),insert:e.useCallback((e,t,r)=>{const i=L(l(t)),o=Ve(n._getFieldArray(s),e,i);n._names.focus=Ee(s,e,r),d.current=Ve(d.current,e,i.map(Se)),m(o),c(o),n._setFieldArray(s,o,Ve,{argA:e,argB:Fe(t)})},[m,s,n]),update:e.useCallback((e,t)=>{const r=l(t),i=Pe(n._getFieldArray(s),e,r);d.current=[...i].map((t,r)=>t&&r!==e?d.current[r]:Se()),m(i),c([...i]),n._setFieldArray(s,i,Pe,{argA:e,argB:r},!0,!1)},[m,s,n]),replace:e.useCallback(e=>{const t=L(l(e));d.current=t.map(Se),m([...t]),c([...t]),n._setFieldArray(s,[...t],e=>e,{},!0,!1)},[m,s,n]),fields:e.useMemo(()=>u.map((e,t)=>({...e,[i]:d.current[t]||Se()})),[u,i])}}function Ie(t={}){const r=e.useRef(void 0),n=e.useRef(void 0),[s,i]=e.useState({isDirty:!1,isValidating:!1,isLoading:Y(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Y(t.defaultValues)?void 0:t.defaultValues});if(!r.current)if(t.formControl)r.current={...t.formControl,formState:s},t.defaultValues&&!Y(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:e,...n}=Ae(t);r.current={...n,formState:s}}const o=r.current.control;return o._options=t,T(()=>{const e=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(e=>({...e,isReady:!0})),o._formState.isReady=!0,e},[o]),e.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),e.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode)},[o,t.mode,t.reValidateMode]),e.useEffect(()=>{t.errors&&(o._setErrors(t.errors),o._focusError())},[o,t.errors]),e.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),e.useEffect(()=>{if(o._proxyFormState.isDirty){const e=o._getDirty();e!==s.isDirty&&o._subjects.state.next({isDirty:e})}},[o,s.isDirty]),e.useEffect(()=>{t.values&&!R(t.values,n.current)?(o._reset(t.values,{keepFieldsRef:!0,...o._options.resetOptions}),n.current=t.values,i(e=>({...e}))):o._resetDefaultValues()},[o,t.values]),e.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),r.current.formState=P(s,o),r.current}const Ce=(e,t,r)=>{if(e&&"reportValidity"in e){const n=h(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Ue=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Ce(n.ref,r,e):n&&n.refs&&n.refs.forEach(t=>Ce(t,r,e))}},Re=(e,t)=>{t.shouldUseNativeValidation&&Ue(e,t);const r={};for(const n in e){const s=h(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Me(t.names||Object.keys(e),n)){const e=Object.assign({},h(r,n));y(e,"root",i),y(r,n,e)}else y(r,n,i)}return r},Me=(e,t)=>{const r=Ne(t);return e.some(e=>Ne(e).match(`^${r}\\.\\d+`))};function Ne(e){return e.replace(/\]|\[/g,"")}function qe(e,t,r){function n(r,n){var s;Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(s=r._zod).traits??(s.traits=new Set),r._zod.traits.add(e),t(r,n);for(const e in o.prototype)e in r||Object.defineProperty(r,e,{value:o.prototype[e].bind(r)});r._zod.constr=o,r._zod.def=n}const s=r?.Parent??Object;class i extends s{}function o(e){var t;const s=r?.Parent?new i:this;n(s,e),(t=s._zod).deferred??(t.deferred=[]);for(const r of s._zod.deferred)r();return s}return Object.defineProperty(i,"name",{value:e}),Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:t=>!!(r?.Parent&&t instanceof r.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class Le extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Be={};function Je(e){return Be}function We(e,t){return"bigint"==typeof t?t.toString():t}function Ye(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Qe(e){return null==e}function Xe(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}const He=Symbol("evaluating");function Ge(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==He)return void 0===n&&(n=He,n=r()),n},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function Ke(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function et(...e){const t={};for(const r of e){const e=Object.getOwnPropertyDescriptors(r);Object.assign(t,e)}return Object.defineProperties({},t)}function tt(e){return JSON.stringify(e)}const rt="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function nt(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const st=Ye(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function it(e){if(!1===nt(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!1!==nt(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function ot(e){return it(e)?{...e}:e}const at=new Set(["string","number","symbol"]);function ut(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ct(e,t,r){const n=new e._zod.constr(t??e._zod.def);return t&&!r?.parent||(n._zod.parent=e),n}function lt(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}function dt(e,t=0){for(let r=t;r<e.issues.length;r++)if(!0!==e.issues[r]?.continue)return!0;return!1}function ft(e,t){return t.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(e),t})}function pt(e){return"string"==typeof e?e:e?.message}function mt(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const s=pt(e.inst?._zod.def?.error?.(e))??pt(t?.error?.(e))??pt(r.customError?.(e))??pt(r.localeError?.(e))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function ht(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function _t(...e){const[t,r,n]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:n}:{...t}}const yt=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,We,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},gt=qe("$ZodError",yt),vt=qe("$ZodError",yt,{Parent:Error});const wt=e=>(t,r,n,s)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new Le;if(o.issues.length){const t=new(s?.Err??e)(o.issues.map(e=>mt(e,i,Je())));throw rt(t,s?.callee),t}return o.value},bt=wt(vt),kt=e=>async(t,r,n,s)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const t=new(s?.Err??e)(o.issues.map(e=>mt(e,i,Je())));throw rt(t,s?.callee),t}return o.value},zt=kt(vt),xt=e=>(t,r,n)=>{const s=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new Le;return i.issues.length?{success:!1,error:new(e??gt)(i.issues.map(e=>mt(e,s,Je())))}:{success:!0,data:i.value}},At=xt(vt),St=e=>async(t,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(e=>mt(e,s,Je())))}:{success:!0,data:i.value}},Et=St(vt),$t=/^[cC][^\s-]{8,}$/,Ft=/^[0-9a-z]+$/,Vt=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Ot=/^[0-9a-vA-V]{20}$/,Zt=/^[A-Za-z0-9]{27}$/,jt=/^[a-zA-Z0-9_-]{21}$/,Dt=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Pt=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Tt=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,It=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const Ct=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ut=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Rt=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Mt=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Nt=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,qt=/^[A-Za-z0-9_-]*$/,Lt=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Bt=/^\+(?:[0-9]){6,14}[0-9]$/,Jt="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Wt=new RegExp(`^${Jt}$`);function Yt(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}const Qt=/^[^A-Z]*$/,Xt=/^[^a-z]*$/,Ht=qe("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),Gt=qe("$ZodCheckMaxLength",(e,t)=>{var r;Ht.init(e,t),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!Qe(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const r=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const n=r.value;if(n.length<=t.maximum)return;const s=ht(n);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),Kt=qe("$ZodCheckMinLength",(e,t)=>{var r;Ht.init(e,t),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!Qe(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const r=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const n=r.value;if(n.length>=t.minimum)return;const s=ht(n);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),er=qe("$ZodCheckLengthEquals",(e,t)=>{var r;Ht.init(e,t),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!Qe(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{const n=r.value,s=n.length;if(s===t.length)return;const i=ht(n),o=s>t.length;r.issues.push({origin:i,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),tr=qe("$ZodCheckStringFormat",(e,t)=>{var r,n;Ht.init(e,t),e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),rr=qe("$ZodCheckRegex",(e,t)=>{tr.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),nr=qe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Qt),tr.init(e,t)}),sr=qe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Xt),tr.init(e,t)}),ir=qe("$ZodCheckIncludes",(e,t)=>{Ht.init(e,t);const r=ut(t.includes),n=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),or=qe("$ZodCheckStartsWith",(e,t)=>{Ht.init(e,t);const r=new RegExp(`^${ut(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),ar=qe("$ZodCheckEndsWith",(e,t)=>{Ht.init(e,t);const r=new RegExp(`.*${ut(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),ur=qe("$ZodCheckOverwrite",(e,t)=>{Ht.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class cr{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length)),n=t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e);for(const s of n)this.content.push(s)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}const lr={major:4,minor:0,patch:17},dr=qe("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=lr;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const t of s._zod.onattach)t(e);if(0===n.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,r)=>{let n,s=dt(e);for(const i of t){if(i._zod.def.when){if(!i._zod.def.when(e))continue}else if(s)continue;const t=e.issues.length,o=i._zod.check(e);if(o instanceof Promise&&!1===r?.async)throw new Le;if(n||o instanceof Promise)n=(n??Promise.resolve()).then(async()=>{await o;e.issues.length!==t&&(s||(s=dt(e,t)))});else{if(e.issues.length===t)continue;s||(s=dt(e,t))}}return n?n.then(()=>e):e};e._zod.run=(r,s)=>{const i=e._zod.parse(r,s);if(i instanceof Promise){if(!1===s.async)throw new Le;return i.then(e=>t(e,n,s))}return t(i,n,s)}}e["~standard"]={validate:t=>{try{const r=At(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return Et(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),fr=qe("$ZodString",(e,t)=>{var r;dr.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??(r=e._zod.bag,new RegExp(`^${r?`[\\s\\S]{${r?.minimum??0},${r?.maximum??""}}`:"[\\s\\S]*"}$`)),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch(s){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),pr=qe("$ZodStringFormat",(e,t)=>{tr.init(e,t),fr.init(e,t)}),mr=qe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Pt),pr.init(e,t)}),hr=qe("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Tt(e))}else t.pattern??(t.pattern=Tt());pr.init(e,t)}),_r=qe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=It),pr.init(e,t)}),yr=qe("$ZodURL",(e,t)=>{pr.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Lt.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),void(t.normalize?r.value=s.href:r.value=n)}catch(n){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),gr=qe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),pr.init(e,t)}),vr=qe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=jt),pr.init(e,t)}),wr=qe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=$t),pr.init(e,t)}),br=qe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Ft),pr.init(e,t)}),kr=qe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Vt),pr.init(e,t)}),zr=qe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Ot),pr.init(e,t)}),xr=qe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Zt),pr.init(e,t)}),Ar=qe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=function(e){const t=Yt({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${Jt}T(?:${n})$`)}(t)),pr.init(e,t)}),Sr=qe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Wt),pr.init(e,t)}),Er=qe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=new RegExp(`^${Yt(t)}$`)),pr.init(e,t)}),$r=qe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Dt),pr.init(e,t)}),Fr=qe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Ct),pr.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),Vr=qe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Ut),pr.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),Or=qe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Rt),pr.init(e,t)}),Zr=qe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Mt),pr.init(e,t),e._zod.check=r=>{const[n,s]=r.value.split("/");try{if(!s)throw new Error;const e=Number(s);if(`${e}`!==s)throw new Error;if(e<0||e>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function jr(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const Dr=qe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Nt),pr.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{jr(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});const Pr=qe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=qt),pr.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{(function(e){if(!qt.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return jr(t.padEnd(4*Math.ceil(t.length/4),"="))})(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),Tr=qe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Bt),pr.init(e,t)});const Ir=qe("$ZodJWT",(e,t)=>{pr.init(e,t),e._zod.check=r=>{(function(e,t=null){try{const r=e.split(".");if(3!==r.length)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&"JWT"!==s?.typ||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}})(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),Cr=qe("$ZodUnknown",(e,t)=>{dr.init(e,t),e._zod.parse=e=>e}),Ur=qe("$ZodNever",(e,t)=>{dr.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function Rr(e,t,r){e.issues.length&&t.issues.push(...ft(r,e.issues)),t.value[r]=e.value}const Mr=qe("$ZodArray",(e,t)=>{dr.init(e,t),e._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),r;r.value=Array(s.length);const i=[];for(let e=0;e<s.length;e++){const o=s[e],a=t.element._zod.run({value:o,issues:[]},n);a instanceof Promise?i.push(a.then(t=>Rr(t,r,e))):Rr(a,r,e)}return i.length?Promise.all(i).then(()=>r):r}});function Nr(e,t,r,n){e.issues.length&&t.issues.push(...ft(r,e.issues)),void 0===e.value?r in n&&(t.value[r]=void 0):t.value[r]=e.value}const qr=qe("$ZodObject",(e,t)=>{dr.init(e,t);const r=Ye(()=>{const e=Object.keys(t.shape);for(const s of e)if(!t.shape[s]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const r=(n=t.shape,Object.keys(n).filter(e=>"optional"===n[e]._zod.optin&&"optional"===n[e]._zod.optout));var n;return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}});Ge(e._zod,"propValues",()=>{const e=t.shape,r={};for(const t in e){const n=e[t]._zod;if(n.values){r[t]??(r[t]=new Set);for(const e of n.values)r[t].add(e)}}return r});let n;const s=nt,i=!Be.jitless,o=i&&st.value,a=t.catchall;let u;e._zod.parse=(c,l)=>{u??(u=r.value);const d=c.value;if(!s(d))return c.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),c;const f=[];if(i&&o&&!1===l?.async&&!0!==l.jitless)n||(n=(e=>{const t=new cr(["shape","payload","ctx"]),n=r.value,s=e=>{const t=tt(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const i=Object.create(null);let o=0;for(const r of n.keys)i[r]="key_"+o++;t.write("const newResult = {}");for(const r of n.keys){const e=i[r],n=tt(r);t.write(`const ${e} = ${s(r)};`),t.write(`\n        if (${e}.issues.length) {\n          payload.issues = payload.issues.concat(${e}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${n}, ...iss.path] : [${n}]\n          })));\n        }\n        \n        if (${e}.value === undefined) {\n          if (${n} in input) {\n            newResult[${n}] = undefined;\n          }\n        } else {\n          newResult[${n}] = ${e}.value;\n        }\n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const a=t.compile();return(t,r)=>a(e,t,r)})(t.shape)),c=n(c,l);else{c.value={};const e=u.shape;for(const t of u.keys){const r=e[t]._zod.run({value:d[t],issues:[]},l);r instanceof Promise?f.push(r.then(e=>Nr(e,c,t,d))):Nr(r,c,t,d)}}if(!a)return f.length?Promise.all(f).then(()=>c):c;const p=[],m=u.keySet,h=a._zod,_=h.def.type;for(const e of Object.keys(d)){if(m.has(e))continue;if("never"===_){p.push(e);continue}const t=h.run({value:d[e],issues:[]},l);t instanceof Promise?f.push(t.then(t=>Nr(t,c,e,d))):Nr(t,c,e,d)}return p.length&&c.issues.push({code:"unrecognized_keys",keys:p,input:d,inst:e}),f.length?Promise.all(f).then(()=>c):c}});function Lr(e,t,r,n){for(const i of e)if(0===i.issues.length)return t.value=i.value,t;const s=e.filter(e=>!dt(e));return 1===s.length?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>mt(e,n,Je())))}),t)}const Br=qe("$ZodUnion",(e,t)=>{dr.init(e,t),Ge(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),Ge(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),Ge(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),Ge(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>Xe(e.source)).join("|")})$`)}});const r=1===t.options.length,n=t.options[0]._zod.run;e._zod.parse=(s,i)=>{if(r)return n(s,i);let o=!1;const a=[];for(const e of t.options){const t=e._zod.run({value:s.value,issues:[]},i);if(t instanceof Promise)a.push(t),o=!0;else{if(0===t.issues.length)return t;a.push(t)}}return o?Promise.all(a).then(t=>Lr(t,s,e,i)):Lr(a,s,e,i)}}),Jr=qe("$ZodIntersection",(e,t)=>{dr.init(e,t),e._zod.parse=(e,r)=>{const n=e.value,s=t.left._zod.run({value:n,issues:[]},r),i=t.right._zod.run({value:n,issues:[]},r);return s instanceof Promise||i instanceof Promise?Promise.all([s,i]).then(([t,r])=>Yr(e,t,r)):Yr(e,s,i)}});function Wr(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(it(e)&&it(t)){const r=Object.keys(t),n=Object.keys(e).filter(e=>-1!==r.indexOf(e)),s={...e,...t};for(const i of n){const r=Wr(e[i],t[i]);if(!r.valid)return{valid:!1,mergeErrorPath:[i,...r.mergeErrorPath]};s[i]=r.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const s=Wr(e[n],t[n]);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Yr(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),dt(e))return e;const n=Wr(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const Qr=qe("$ZodEnum",(e,t)=>{dr.init(e,t);const r=function(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(e=>at.has(typeof e)).map(e=>"string"==typeof e?ut(e):e.toString()).join("|")})$`),e._zod.parse=(t,s)=>{const i=t.value;return n.has(i)||t.issues.push({code:"invalid_value",values:r,input:i,inst:e}),t}}),Xr=qe("$ZodLiteral",(e,t)=>{if(dr.init(e,t),0===t.values.length)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(e=>"string"==typeof e?ut(e):e?ut(e.toString()):String(e)).join("|")})$`),e._zod.parse=(r,n)=>{const s=r.value;return e._zod.values.has(s)||r.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),r}}),Hr=qe("$ZodTransform",(e,t)=>{dr.init(e,t),e._zod.parse=(e,r)=>{const n=t.transform(e.value,e);if(r.async){return(n instanceof Promise?n:Promise.resolve(n)).then(t=>(e.value=t,e))}if(n instanceof Promise)throw new Le;return e.value=n,e}});function Gr(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const Kr=qe("$ZodOptional",(e,t)=>{dr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Ge(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Ge(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${Xe(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){const n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(t=>Gr(t,e.value)):Gr(n,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),en=qe("$ZodNullable",(e,t)=>{dr.init(e,t),Ge(e._zod,"optin",()=>t.innerType._zod.optin),Ge(e._zod,"optout",()=>t.innerType._zod.optout),Ge(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${Xe(e.source)}|null)$`):void 0}),Ge(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),tn=qe("$ZodDefault",(e,t)=>{dr.init(e,t),e._zod.optin="optional",Ge(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if(void 0===e.value)return e.value=t.defaultValue,e;const n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(e=>rn(e,t)):rn(n,t)}});function rn(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const nn=qe("$ZodPrefault",(e,t)=>{dr.init(e,t),e._zod.optin="optional",Ge(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),sn=qe("$ZodNonOptional",(e,t)=>{dr.init(e,t),Ge(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,n)=>{const s=t.innerType._zod.run(r,n);return s instanceof Promise?s.then(t=>on(t,e)):on(s,e)}});function on(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const an=qe("$ZodCatch",(e,t)=>{dr.init(e,t),Ge(e._zod,"optin",()=>t.innerType._zod.optin),Ge(e._zod,"optout",()=>t.innerType._zod.optout),Ge(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{const n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(n=>(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>mt(e,r,Je()))},input:e.value}),e.issues=[]),e)):(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>mt(e,r,Je()))},input:e.value}),e.issues=[]),e)}}),un=qe("$ZodPipe",(e,t)=>{dr.init(e,t),Ge(e._zod,"values",()=>t.in._zod.values),Ge(e._zod,"optin",()=>t.in._zod.optin),Ge(e._zod,"optout",()=>t.out._zod.optout),Ge(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{const n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>cn(e,t,r)):cn(n,t,r)}});function cn(e,t,r){return e.issues.length?e:t.out._zod.run({value:e.value,issues:e.issues},r)}const ln=qe("$ZodReadonly",(e,t)=>{dr.init(e,t),Ge(e._zod,"propValues",()=>t.innerType._zod.propValues),Ge(e._zod,"values",()=>t.innerType._zod.values),Ge(e._zod,"optin",()=>t.innerType._zod.optin),Ge(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{const n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(dn):dn(n)}});function dn(e){return e.value=Object.freeze(e.value),e}const fn=qe("$ZodCustom",(e,t)=>{Ht.init(e,t),dr.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{const n=r.value,s=t.fn(n);if(s instanceof Promise)return s.then(t=>pn(t,r,n,e));pn(s,r,n,e)}});function pn(e,t,r,n){if(!e){const e={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(e.params=n._zod.def.params),t.issues.push(_t(e))}}class mn{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const n={...r,...this._map.get(e)};return Object.keys(n).length?n:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function hn(){return new mn}const _n=hn();function yn(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...lt(t)})}function gn(e,t){return new Gt({check:"max_length",...lt(t),maximum:e})}function vn(e,t){return new Kt({check:"min_length",...lt(t),minimum:e})}function wn(e,t){return new er({check:"length_equals",...lt(t),length:e})}function bn(e){return new ur({check:"overwrite",tx:e})}function kn(e){const t=function(e,t){const r=new Ht({check:"custom",...lt(t)});return r._zod.check=e,r}(r=>(r.addIssue=e=>{if("string"==typeof e)r.issues.push(_t(e,r.value,t._zod.def));else{const n=e;n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=t),n.continue??(n.continue=!t._zod.def.abort),r.issues.push(_t(n))}},e(r.value,r)));return t}function zn(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function xn(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var u=r[o].types,c=u&&u[n.code];r[o]=q(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r}function An(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("invalid_union"===n.code&&n.errors.length>0){var a=n.errors[0][0];r[o]={message:a.message,type:a.code}}else r[o]={message:i,type:s};if("invalid_union"===n.code&&n.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var u=r[o].types,c=u&&u[n.code];r[o]=q(o,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r}function Sn(e,t,r){if(void 0===r&&(r={}),"_def"in(n=e)&&"object"==typeof n._def&&"typeName"in n._def)return function(s,i,o){try{return Promise.resolve(zn(function(){return Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](s,t)).then(function(e){return o.shouldUseNativeValidation&&Ue({},o),{errors:{},values:r.raw?Object.assign({},s):e}})},function(e){if(t=e,Array.isArray(null==t?void 0:t.issues))return{values:{},errors:Re(xn(e.errors,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)};var t;throw e}))}catch(n){return Promise.reject(n)}};var n;if(function(e){return"_zod"in e&&"object"==typeof e._zod}(e))return function(s,i,o){try{return Promise.resolve(zn(function(){return Promise.resolve(("sync"===r.mode?bt:zt)(e,s,t)).then(function(e){return o.shouldUseNativeValidation&&Ue({},o),{errors:{},values:r.raw?Object.assign({},s):e}})},function(e){if(e instanceof gt)return{values:{},errors:Re(An(e.issues,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)};throw e}))}catch(n){return Promise.reject(n)}};throw new Error("Invalid input: not a Zod schema")}const En=qe("ZodISODateTime",(e,t)=>{Ar.init(e,t),Ln.init(e,t)});function $n(e){return function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...lt(t)})}(En,e)}const Fn=qe("ZodISODate",(e,t)=>{Sr.init(e,t),Ln.init(e,t)});function Vn(e){return function(e,t){return new e({type:"string",format:"date",check:"string_format",...lt(t)})}(Fn,e)}const On=qe("ZodISOTime",(e,t)=>{Er.init(e,t),Ln.init(e,t)});function Zn(e){return function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...lt(t)})}(On,e)}const jn=qe("ZodISODuration",(e,t)=>{$r.init(e,t),Ln.init(e,t)});function Dn(e){return function(e,t){return new e({type:"string",format:"duration",check:"string_format",...lt(t)})}(jn,e)}const Pn=qe("ZodError",(e,t)=>{gt.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t){const r=t||function(e){return e.message},n={_errors:[]},s=e=>{for(const t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>s({issues:e}));else if("invalid_key"===t.code)s({issues:t.issues});else if("invalid_element"===t.code)s({issues:t.issues});else if(0===t.path.length)n._errors.push(r(t));else{let e=n,s=0;for(;s<t.path.length;){const n=t.path[s];s===t.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(r(t))):e[n]=e[n]||{_errors:[]},e=e[n],s++}}};return s(e),n}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const r={},n=[];for(const s of e.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,We,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,We,2)}},isEmpty:{get:()=>0===e.issues.length}})},{Parent:Error}),Tn=wt(Pn),In=kt(Pn),Cn=xt(Pn),Un=St(Pn),Rn=qe("ZodType",(e,t)=>(dr.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,r)=>ct(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>Tn(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>Cn(e,t,r),e.parseAsync=async(t,r)=>In(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>Un(e,t,r),e.spa=e.safeParseAsync,e.refine=(t,r)=>e.check(function(e,t={}){return function(e,t,r){return new e({type:"custom",check:"custom",fn:t,...lt(r)})}(Ps,e,t)}(t,r)),e.superRefine=t=>e.check(kn(t)),e.overwrite=t=>e.check(bn(t)),e.optional=()=>As(e),e.nullable=()=>Es(e),e.nullish=()=>As(Es(e)),e.nonoptional=t=>function(e,t){return new Vs({type:"nonoptional",innerType:e,...lt(t)})}(e,t),e.array=()=>hs(e),e.or=t=>vs([e,t]),e.and=t=>new ws({type:"intersection",left:e,right:t}),e.transform=t=>js(e,new zs({type:"transform",transform:t})),e.default=t=>{return r=t,new $s({type:"default",innerType:e,get defaultValue(){return"function"==typeof r?r():ot(r)}});var r},e.prefault=t=>{return r=t,new Fs({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof r?r():ot(r)}});var r},e.catch=t=>{return new Os({type:"catch",innerType:e,catchValue:"function"==typeof(r=t)?r:()=>r});var r},e.pipe=t=>js(e,t),e.readonly=()=>new Ds({type:"readonly",innerType:e}),e.describe=t=>{const r=e.clone();return _n.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>_n.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return _n.get(e);const r=e.clone();return _n.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Mn=qe("_ZodString",(e,t)=>{fr.init(e,t),Rn.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(function(e,t){return new rr({check:"string_format",format:"regex",...lt(t),pattern:e})}(...t)),e.includes=(...t)=>e.check(function(e,t){return new ir({check:"string_format",format:"includes",...lt(t),includes:e})}(...t)),e.startsWith=(...t)=>e.check(function(e,t){return new or({check:"string_format",format:"starts_with",...lt(t),prefix:e})}(...t)),e.endsWith=(...t)=>e.check(function(e,t){return new ar({check:"string_format",format:"ends_with",...lt(t),suffix:e})}(...t)),e.min=(...t)=>e.check(vn(...t)),e.max=(...t)=>e.check(gn(...t)),e.length=(...t)=>e.check(wn(...t)),e.nonempty=(...t)=>e.check(vn(1,...t)),e.lowercase=t=>e.check(function(e){return new nr({check:"string_format",format:"lowercase",...lt(e)})}(t)),e.uppercase=t=>e.check(function(e){return new sr({check:"string_format",format:"uppercase",...lt(e)})}(t)),e.trim=()=>e.check(bn(e=>e.trim())),e.normalize=(...t)=>e.check(function(e){return bn(t=>t.normalize(e))}(...t)),e.toLowerCase=()=>e.check(bn(e=>e.toLowerCase())),e.toUpperCase=()=>e.check(bn(e=>e.toUpperCase()))}),Nn=qe("ZodString",(e,t)=>{fr.init(e,t),Mn.init(e,t),e.email=t=>e.check(function(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...lt(t)})}(Bn,t)),e.url=t=>e.check(function(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...lt(t)})}(Yn,t)),e.jwt=t=>e.check(function(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...lt(t)})}(cs,t)),e.emoji=t=>e.check(function(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...lt(t)})}(Qn,t)),e.guid=t=>e.check(yn(Jn,t)),e.uuid=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...lt(t)})}(Wn,t)),e.uuidv4=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...lt(t)})}(Wn,t)),e.uuidv6=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...lt(t)})}(Wn,t)),e.uuidv7=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...lt(t)})}(Wn,t)),e.nanoid=t=>e.check(function(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...lt(t)})}(Xn,t)),e.guid=t=>e.check(yn(Jn,t)),e.cuid=t=>e.check(function(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...lt(t)})}(Hn,t)),e.cuid2=t=>e.check(function(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...lt(t)})}(Gn,t)),e.ulid=t=>e.check(function(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...lt(t)})}(Kn,t)),e.base64=t=>e.check(function(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...lt(t)})}(os,t)),e.base64url=t=>e.check(function(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...lt(t)})}(as,t)),e.xid=t=>e.check(function(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...lt(t)})}(es,t)),e.ksuid=t=>e.check(function(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...lt(t)})}(ts,t)),e.ipv4=t=>e.check(function(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...lt(t)})}(rs,t)),e.ipv6=t=>e.check(function(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...lt(t)})}(ns,t)),e.cidrv4=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...lt(t)})}(ss,t)),e.cidrv6=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...lt(t)})}(is,t)),e.e164=t=>e.check(function(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...lt(t)})}(us,t)),e.datetime=t=>e.check($n(t)),e.date=t=>e.check(Vn(t)),e.time=t=>e.check(Zn(t)),e.duration=t=>e.check(Dn(t))});function qn(e){return function(e,t){return new e({type:"string",...lt(t)})}(Nn,e)}const Ln=qe("ZodStringFormat",(e,t)=>{pr.init(e,t),Mn.init(e,t)}),Bn=qe("ZodEmail",(e,t)=>{_r.init(e,t),Ln.init(e,t)}),Jn=qe("ZodGUID",(e,t)=>{mr.init(e,t),Ln.init(e,t)}),Wn=qe("ZodUUID",(e,t)=>{hr.init(e,t),Ln.init(e,t)}),Yn=qe("ZodURL",(e,t)=>{yr.init(e,t),Ln.init(e,t)}),Qn=qe("ZodEmoji",(e,t)=>{gr.init(e,t),Ln.init(e,t)}),Xn=qe("ZodNanoID",(e,t)=>{vr.init(e,t),Ln.init(e,t)}),Hn=qe("ZodCUID",(e,t)=>{wr.init(e,t),Ln.init(e,t)}),Gn=qe("ZodCUID2",(e,t)=>{br.init(e,t),Ln.init(e,t)}),Kn=qe("ZodULID",(e,t)=>{kr.init(e,t),Ln.init(e,t)}),es=qe("ZodXID",(e,t)=>{zr.init(e,t),Ln.init(e,t)}),ts=qe("ZodKSUID",(e,t)=>{xr.init(e,t),Ln.init(e,t)}),rs=qe("ZodIPv4",(e,t)=>{Fr.init(e,t),Ln.init(e,t)}),ns=qe("ZodIPv6",(e,t)=>{Vr.init(e,t),Ln.init(e,t)}),ss=qe("ZodCIDRv4",(e,t)=>{Or.init(e,t),Ln.init(e,t)}),is=qe("ZodCIDRv6",(e,t)=>{Zr.init(e,t),Ln.init(e,t)}),os=qe("ZodBase64",(e,t)=>{Dr.init(e,t),Ln.init(e,t)}),as=qe("ZodBase64URL",(e,t)=>{Pr.init(e,t),Ln.init(e,t)}),us=qe("ZodE164",(e,t)=>{Tr.init(e,t),Ln.init(e,t)}),cs=qe("ZodJWT",(e,t)=>{Ir.init(e,t),Ln.init(e,t)}),ls=qe("ZodUnknown",(e,t)=>{Cr.init(e,t),Rn.init(e,t)});function ds(){return new ls({type:"unknown"})}const fs=qe("ZodNever",(e,t)=>{Ur.init(e,t),Rn.init(e,t)});function ps(e){return function(e,t){return new e({type:"never",...lt(t)})}(fs,e)}const ms=qe("ZodArray",(e,t)=>{Mr.init(e,t),Rn.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(vn(t,r)),e.nonempty=t=>e.check(vn(1,t)),e.max=(t,r)=>e.check(gn(t,r)),e.length=(t,r)=>e.check(wn(t,r)),e.unwrap=()=>e.element});function hs(e,t){return function(e,t,r){return new e({type:"array",element:t,...lt(r)})}(ms,e,t)}const _s=qe("ZodObject",(e,t)=>{qr.init(e,t),Rn.init(e,t),Ge(e,"shape",()=>t.shape),e.keyof=()=>function(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new bs({type:"enum",entries:r,...lt(t)})}(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ds()}),e.loose=()=>e.clone({...e._zod.def,catchall:ds()}),e.strict=()=>e.clone({...e._zod.def,catchall:ps()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!it(t))throw new Error("Invalid input to extend: expected a plain object");const r=et(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Ke(this,"shape",r),r},checks:[]});return ct(e,r)}(e,t),e.merge=t=>function(e,t){const r=et(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Ke(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return ct(e,r)}(e,t),e.pick=t=>function(e,t){const r=e._zod.def;return ct(e,et(e._zod.def,{get shape(){const e={};for(const n in t){if(!(n in r.shape))throw new Error(`Unrecognized key: "${n}"`);t[n]&&(e[n]=r.shape[n])}return Ke(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const r=e._zod.def,n=et(e._zod.def,{get shape(){const n={...e._zod.def.shape};for(const e in t){if(!(e in r.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete n[e]}return Ke(this,"shape",n),n},checks:[]});return ct(e,n)}(e,t),e.partial=(...t)=>function(e,t,r){const n=et(t._zod.def,{get shape(){const n=t._zod.def.shape,s={...n};if(r)for(const t in r){if(!(t in n))throw new Error(`Unrecognized key: "${t}"`);r[t]&&(s[t]=e?new e({type:"optional",innerType:n[t]}):n[t])}else for(const t in n)s[t]=e?new e({type:"optional",innerType:n[t]}):n[t];return Ke(this,"shape",s),s},checks:[]});return ct(t,n)}(xs,e,t[0]),e.required=(...t)=>function(e,t,r){const n=et(t._zod.def,{get shape(){const n=t._zod.def.shape,s={...n};if(r)for(const t in r){if(!(t in s))throw new Error(`Unrecognized key: "${t}"`);r[t]&&(s[t]=new e({type:"nonoptional",innerType:n[t]}))}else for(const t in n)s[t]=new e({type:"nonoptional",innerType:n[t]});return Ke(this,"shape",s),s},checks:[]});return ct(t,n)}(Vs,e,t[0])});function ys(e,t){const r={type:"object",get shape(){var t;return Ke(this,"shape",e?(t=e,Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))):{}),this.shape},...lt(t)};return new _s(r)}const gs=qe("ZodUnion",(e,t)=>{Br.init(e,t),Rn.init(e,t),e.options=t.options});function vs(e,t){return new gs({type:"union",options:e,...lt(t)})}const ws=qe("ZodIntersection",(e,t)=>{Jr.init(e,t),Rn.init(e,t)});const bs=qe("ZodEnum",(e,t)=>{Qr.init(e,t),Rn.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(e,n)=>{const s={};for(const i of e){if(!r.has(i))throw new Error(`Key ${i} not found in enum`);s[i]=t.entries[i]}return new bs({...t,checks:[],...lt(n),entries:s})},e.exclude=(e,n)=>{const s={...t.entries};for(const t of e){if(!r.has(t))throw new Error(`Key ${t} not found in enum`);delete s[t]}return new bs({...t,checks:[],...lt(n),entries:s})}});const ks=qe("ZodLiteral",(e,t)=>{Xr.init(e,t),Rn.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});const zs=qe("ZodTransform",(e,t)=>{Hr.init(e,t),Rn.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=n=>{if("string"==typeof n)r.issues.push(_t(n,r.value,t));else{const t=n;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=r.value),t.inst??(t.inst=e),r.issues.push(_t(t))}};const s=t.transform(r.value,r);return s instanceof Promise?s.then(e=>(r.value=e,r)):(r.value=s,r)}});const xs=qe("ZodOptional",(e,t)=>{Kr.init(e,t),Rn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function As(e){return new xs({type:"optional",innerType:e})}const Ss=qe("ZodNullable",(e,t)=>{en.init(e,t),Rn.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Es(e){return new Ss({type:"nullable",innerType:e})}const $s=qe("ZodDefault",(e,t)=>{tn.init(e,t),Rn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});const Fs=qe("ZodPrefault",(e,t)=>{nn.init(e,t),Rn.init(e,t),e.unwrap=()=>e._zod.def.innerType});const Vs=qe("ZodNonOptional",(e,t)=>{sn.init(e,t),Rn.init(e,t),e.unwrap=()=>e._zod.def.innerType});const Os=qe("ZodCatch",(e,t)=>{an.init(e,t),Rn.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});const Zs=qe("ZodPipe",(e,t)=>{un.init(e,t),Rn.init(e,t),e.in=t.in,e.out=t.out});function js(e,t){return new Zs({type:"pipe",in:e,out:t})}const Ds=qe("ZodReadonly",(e,t)=>{ln.init(e,t),Rn.init(e,t),e.unwrap=()=>e._zod.def.innerType});const Ps=qe("ZodCustom",(e,t)=>{fn.init(e,t),Rn.init(e,t)});const Ts=t("https://ktqrzokrqizfjqdgwmqs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt0cXJ6b2tycWl6ZmpxZGd3bXFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzIzOTIsImV4cCI6MjA2OTgwODM5Mn0.2g3y9b7bsX444RlJ5_syCtHb-WEhHmZf2WxucPrRiPQ"),Is=ys({name:qn().min(2,"Name must be at least 2 characters"),headline:qn().min(10,"Headline must be at least 10 characters"),email:qn().email("Valid email required"),phone:qn().optional(),location:qn().min(2,"Location required"),links:hs(ys({label:qn(),url:qn().url()})).optional()}),Cs=ys({company:qn().min(2,"Company name required"),role:qn().min(2,"Role title required"),location:qn().optional(),start:qn().regex(/^[A-Z]{3} \d{4}$/,"Format: MMM YYYY"),end:vs([(Us="Present",new ks({type:"literal",values:Array.isArray(Us)?Us:[Us],...lt(Rs)})),qn().regex(/^[A-Z]{3} \d{4}$/,"Format: MMM YYYY")]),bullets:hs(qn().min(12).max(200)).min(2,"At least 2 achievements required"),technologies:hs(qn()).optional()});var Us,Rs;const Ms=ys({name:qn().min(2,"Project name required"),role:qn().optional(),link:qn().url().optional(),bullets:hs(qn().min(12).max(200)).min(1),technologies:hs(qn()).optional()}),Ns=ys({school:qn().min(2,"School name required"),degree:qn().min(2,"Degree required"),start:qn().regex(/^[A-Z]{3} \d{4}$/,"Format: MMM YYYY"),end:qn().regex(/^[A-Z]{3} \d{4}$/,"Format: MMM YYYY"),details:qn().optional()}),qs=ys({core:hs(qn()).min(3,"At least 3 core skills required"),tools:hs(qn()).optional(),soft:hs(qn()).optional()}),Ls=ys({certifications:hs(qn()).optional(),awards:hs(qn()).optional(),languages:hs(qn()).optional()}),Bs=ys({profile:Is,summary:qn().min(50,"Summary must be at least 50 characters").max(300),experience:hs(Cs).min(1,"At least one work experience required"),projects:hs(Ms).optional(),education:hs(Ns).min(1,"At least one education entry required"),skills:qs,extras:Ls.optional()});class Js{static async getCurrentUser(){try{const{data:{user:e},error:t}=await Ts.auth.getUser();if(t)throw t;if(!e)return{success:!1,error:"No authenticated user"};const[r,n]=await Promise.all([Ts.from("profiles").select("*").eq("user_id",e.id).single(),Ts.from("subscriptions").select("*").eq("user_id",e.id).single()]);return{success:!0,user:{id:e.id,email:e.email,profile:r.data,subscription:n.data||{plan:"free",status:"active"}}}}catch(e){return{success:!1,error:e.message}}}static async getUserPlan(e){try{const{data:t}=await Ts.rpc("get_user_plan",{user_uuid:e});return t||"free"}catch(t){return console.error("Error getting user plan:",t),"free"}}static async checkQuotaLimit(e,t){try{const r=(new Date).toISOString().slice(0,7),{data:n}=await Ts.rpc("check_quota_limit",{user_uuid:e,quota_type:t,current_month:r});return n}catch(r){return console.error("Error checking quota:",r),!1}}static async incrementQuotaUsage(e,t){try{const r=(new Date).toISOString().slice(0,7);return await Ts.rpc("increment_quota_usage",{user_uuid:e,quota_type:t,current_month:r}),{success:!0}}catch(r){return console.error("Error incrementing quota:",r),{success:!1,error:r.message}}}static async getUserQuotas(e){try{const t=(new Date).toISOString().slice(0,7),{data:r,error:n}=await Ts.from("usage_quotas").select("*").eq("user_id",e).eq("month_key",t).single();if(n&&"PGRST116"!==n.code)throw n;const s=await this.getUserPlan(e);return{success:!0,quotas:r||{ai_polish_count:0,exports_count:0,jd_analysis_count:0,cover_letter_count:0},limits:this.getQuotaLimits(s)}}catch(t){return{success:!1,error:t.message}}}static getQuotaLimits(e){return"free"===e?{ai_polish:3,exports:3,jd_analysis:2,cover_letter:0,active_resumes:1}:{ai_polish:50,exports:100,jd_analysis:50,cover_letter:25,active_resumes:-1}}static async createResume(e,t="My Resume"){try{if("free"===await this.getUserPlan(e)){const{data:t}=await Ts.from("resumes").select("id").eq("user_id",e).eq("is_active",!0);if(t&&t.length>=1)return{success:!1,error:"Free plan allows only 1 active resume",code:"QUOTA_EXCEEDED"}}const{data:r,error:n}=await Ts.from("resumes").insert({user_id:e,title:t,template_key:"modern"}).select().single();if(n)throw n;const s={profile:{name:"",headline:"",email:"",phone:"",location:"",links:[]},summary:"",experience:[],projects:[],education:[],skills:{core:[],tools:[],soft:[]},extras:{certifications:[],awards:[],languages:[]}},i=await this.createResumeVersion(r.id,s,"Initial version");return i.success&&await Ts.from("resumes").update({current_version_id:i.version.id}).eq("id",r.id),await this.trackEvent(e,"resume_created",{resume_id:r.id}),{success:!0,resume:r}}catch(r){return{success:!1,error:r.message}}}static async getUserResumes(e){try{const{data:t,error:r}=await Ts.from("resumes").select("\n          *,\n          current_version:resume_versions!current_version_id(*)\n        ").eq("user_id",e).eq("is_active",!0).order("updated_at",{ascending:!1});if(r)throw r;return{success:!0,resumes:t}}catch(t){return{success:!1,error:t.message}}}static async getResume(e,t){try{const{data:r,error:n}=await Ts.from("resumes").select("\n          *,\n          current_version:resume_versions!current_version_id(*),\n          template:resume_templates!template_key(*)\n        ").eq("id",e).eq("user_id",t).single();if(n)throw n;return{success:!0,resume:r}}catch(r){return{success:!1,error:r.message}}}static async updateResume(e,t,r){try{const{data:n,error:s}=await Ts.from("resumes").update({...r,updated_at:(new Date).toISOString()}).eq("id",e).eq("user_id",t).select().single();if(s)throw s;return{success:!0,resume:n}}catch(n){return{success:!1,error:n.message}}}static async deleteResume(e,t){try{const{error:r}=await Ts.from("resumes").update({is_active:!1}).eq("id",e).eq("user_id",t);if(r)throw r;return await this.trackEvent(t,"resume_deleted",{resume_id:e}),{success:!0}}catch(r){return{success:!1,error:r.message}}}static async createResumeVersion(e,t,r=""){try{const n=Bs.safeParse(t);if(!n.success)return{success:!1,error:"Invalid resume data",details:n.error.issues};const{data:s}=await Ts.from("resume_versions").select("version").eq("resume_id",e).order("version",{ascending:!1}).limit(1),i=s&&s.length>0?s[0].version+1:1,o=this.calculateWordCount(t),a=Math.ceil(o/250),{data:u,error:c}=await Ts.from("resume_versions").insert({resume_id:e,version:i,data:n.data,notes:r,word_count:o,page_count:a}).select().single();if(c)throw c;return{success:!0,version:u}}catch(n){return{success:!1,error:n.message}}}static async getResumeVersions(e,t){try{const{data:r,error:n}=await Ts.from("resume_versions").select("*").eq("resume_id",e).order("version",{ascending:!1});if(n)throw n;const{data:s}=await Ts.from("resumes").select("user_id").eq("id",e).single();return s&&s.user_id===t?{success:!0,versions:r}:{success:!1,error:"Unauthorized"}}catch(r){return{success:!1,error:r.message}}}static async checkGrammar(e,t){try{if(!(await this.checkQuotaLimit(t,"ai_polish")))return{success:!1,error:"Grammar check quota exceeded",code:"QUOTA_EXCEEDED"};const r=await fetch("/api/grammar/check",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await Ts.auth.getSession()).data.session?.access_token}`},body:JSON.stringify({text:e})});if(!r.ok)throw new Error("Grammar check failed");return{success:!0,result:await r.json()}}catch(r){return{success:!1,error:r.message}}}static async polishText(e,t,r,n,s={}){try{if(!(await this.checkQuotaLimit(t,"ai_polish")))return{success:!1,error:"AI polish quota exceeded",code:"QUOTA_EXCEEDED"};if(e.length>900)return{success:!1,error:"Text too long (max 900 characters)"};const i=await fetch("/api/grammar/polish",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await Ts.auth.getSession()).data.session?.access_token}`},body:JSON.stringify({text:e,tone:s.tone||"professional",style:s.style||"concise"})});if(!i.ok)throw new Error("AI polish failed");const o=await i.json();return await this.incrementQuotaUsage(t,"ai_polish"),await Ts.from("ai_polish_history").insert({user_id:t,resume_id:r,field_path:n,original_text:e,polished_text:o.improved,polish_type:s.tone||"professional",tokens_used:o.tokens_used||0,cost_cents:o.cost_cents||0}),await this.trackEvent(t,"ai_polish_used",{resume_id:r,field_path:n}),{success:!0,improved:o.improved}}catch(i){return{success:!1,error:i.message}}}static async analyzeJobDescription(e,t,r,n){try{if(!(await this.checkQuotaLimit(r,"jd_analysis")))return{success:!1,error:"JD analysis quota exceeded",code:"QUOTA_EXCEEDED"};const s=await this.generateHash(t),{data:i}=await Ts.from("jd_analyses").select("*").eq("jd_hash",s).eq("user_id",r).gte("expires_at",(new Date).toISOString()).single();if(i)return{success:!0,analysis:i.analysis_result};const o=await fetch("/api/jd/score",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await Ts.auth.getSession()).data.session?.access_token}`},body:JSON.stringify({resumeData:e,jd:t})});if(!o.ok)throw new Error("JD analysis failed");const a=await o.json();return await Ts.from("jd_analyses").insert({user_id:r,resume_id:n,jd_text:t,jd_hash:s,analysis_result:a}),await Ts.from("resumes").update({jd_match:a,ats_score:a.score}).eq("id",n),await this.incrementQuotaUsage(r,"jd_analysis"),await this.trackEvent(r,"jd_analysis_used",{resume_id:n,score:a.score}),{success:!0,analysis:a}}catch(s){return{success:!1,error:s.message}}}static async getTemplates(){try{const{data:e,error:t}=await Ts.from("resume_templates").select("*").eq("is_active",!0).order("sort_order");if(t)throw t;return{success:!0,templates:e}}catch(e){return{success:!1,error:e.message}}}static async exportResume(e,t,r,n,s){try{if(!(await this.checkQuotaLimit(s,"exports")))return{success:!1,error:"Export quota exceeded",code:"QUOTA_EXCEEDED"};const i=await fetch(`/api/export/${r}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${(await Ts.auth.getSession()).data.session?.access_token}`},body:JSON.stringify({resumeId:e,versionId:t,template:n})});if(!i.ok)throw new Error("Export failed");const o=await i.json();return await this.incrementQuotaUsage(s,"exports"),await this.trackEvent(s,"resume_exported",{resume_id:e,format:r,template:n}),{success:!0,exportId:o.exportId,url:o.url}}catch(i){return{success:!1,error:i.message}}}static async getSkillSuggestions(e="",t=""){try{let r=Ts.from("skill_suggestions").select("*").order("popularity_score",{ascending:!1});e&&(r=r.ilike("name",`%${e}%`)),t&&(r=r.eq("category",t));const{data:n,error:s}=await r.limit(20);if(s)throw s;return{success:!0,skills:n}}catch(r){return{success:!1,error:r.message}}}static calculateWordCount(e){let t=0;return e.summary&&(t+=e.summary.split(/\s+/).length),e.experience&&e.experience.forEach(e=>{e.bullets&&e.bullets.forEach(e=>{t+=e.split(/\s+/).length})}),e.projects&&e.projects.forEach(e=>{e.bullets&&e.bullets.forEach(e=>{t+=e.split(/\s+/).length})}),t}static async generateHash(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map(e=>e.toString(16).padStart(2,"0")).join("")}static async trackEvent(e,t,r={}){try{await Ts.from("tool_events").insert({user_id:e,event:t,meta:r,session_id:this.getSessionId()})}catch(n){console.error("Error tracking event:",n)}}static getSessionId(){return Date.now().toString()+Math.random().toString(36).substr(2,9)}static normalizeDate(e){const t=new Date(e);return`${["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][t.getMonth()]} ${t.getFullYear()}`}static sanitizeBulletPoint(e){return e.replace(/[\u{1F600}-\u{1F64F}]|[\u{1F300}-\u{1F5FF}]|[\u{1F680}-\u{1F6FF}]|[\u{1F1E0}-\u{1F1FF}]/gu,"").replace(/[^\w\s\-.,;:()\[\]"'%$&@]/g,"").trim()}static validateBulletLength(e){const t=e.split(/\s+/).length;return t>=12&&t<=24}static deduplicateSkills(e){const t=new Set;return e.filter(e=>{const r=e.toLowerCase();return!t.has(r)&&(t.add(r),!0)})}static getTimeAgo(e){const t=new Date,r=new Date(e),n=Math.floor((t-r)/1e3);return n<60?"Just now":n<3600?`${Math.floor(n/60)}m ago`:n<86400?`${Math.floor(n/3600)}h ago`:n<2592e3?`${Math.floor(n/86400)}d ago`:r.toLocaleDateString()}}export{N as C,Js as E,Sn as a,hs as b,Te as c,ys as o,qn as s,Ie as u};
