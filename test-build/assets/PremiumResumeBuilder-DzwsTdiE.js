import{j as e,A as s,m as t}from"./ui-CcYA9Yr6.js";import{r,R as a}from"./router-B6UZmQX4.js";import{u as i,a as n,E as l,o,b as c,s as d,C as m,c as u}from"./enhancedResumeService-DQrSqNCj.js";import{aW as p,aV as x,U as h,X as g,r as f,a1 as b,Z as y,Q as j,C as v,E as N,y as k,x as w,O as S,A as C,aI as I,N as T,o as A,aN as z,am as P,T as E,K as L,D,t as M}from"./index-CYK67J1M.js";import{P as _,W as F}from"./wand-2-CuBfxVCA.js";import{U as R,T as O}from"./upload-C4Sbqr5i.js";import{P as J}from"./plus-CkXHeGPs.js";import"./vendor-PgpX3k0v.js";const Z=x("https://ktqrzokrqizfjqdgwmqs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt0cXJ6b2tycWl6ZmpxZGd3bXFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzIzOTIsImV4cCI6MjA2OTgwODM5Mn0.2g3y9b7bsX444RlJ5_syCtHb-WEhHmZf2WxucPrRiPQ");class U{static async parseLinkedInPDF(e){try{if(!e||"application/pdf"!==e.type)throw new Error("Please select a valid PDF file");if(e.size>5242880)throw new Error("File size must be less than 5MB");const s=await this.extractTextFromPDF(e),t=this.parseLinkedInText(s);return{success:!0,data:this.validateAndCleanData(t),source:"linkedin_pdf"}}catch(s){return{success:!1,error:s.message}}}static async extractTextFromPDF(e){return new Promise((s,t)=>{const r=new FileReader;r.onload=async function(){try{if("undefined"==typeof window)throw new Error("PDF parsing not available in server environment");let t;try{if(!window.pdfjsLib){const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",document.head.appendChild(e),await new Promise((s,t)=>{e.onload=s,e.onerror=t})}t=window.pdfjsLib}catch(e){t=await p(()=>import("./pdf-DMKCbgSL.js"),[])}t.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";const r=t.getDocument(new Uint8Array(this.result)),a=await r.promise;let i="";for(let e=1;e<=a.numPages;e++){const s=await a.getPage(e),t=await s.getTextContent();i+=t.items.map(e=>e.str).join(" ")+"\n"}s(i)}catch(r){t(new Error("PDF text extraction failed. Please copy and paste your LinkedIn profile text instead."))}},r.onerror=()=>t(new Error("Failed to read PDF file")),r.readAsArrayBuffer(e)})}static parseLinkedInText(e){const s={profile:{},summary:"",experience:[],education:[],skills:{core:[],tools:[],soft:[]},extras:{certifications:[],awards:[],languages:[]}},t=e.replace(/\s+/g," ").trim().split("\n").map(e=>e.trim()).filter(e=>e.length>0);return this.extractPersonalInfo(t,s),this.extractSummary(t,s),this.extractExperience(t,s),this.extractEducation(t,s),this.extractSkills(t,s),this.extractCertificationsAndAwards(t,s),s}static extractPersonalInfo(e,s){const t=e.join(" ").toLowerCase(),r=e[0]?.match(/^([A-Z][a-z]+ [A-Z][a-z]+(?:\s+[A-Z][a-z]+)*)/);r&&(s.profile.name=r[1]);const a=t.match(/([a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})/);a&&(s.profile.email=a[1]);const i=t.match(/(\+?1?[-.\s]?\(?[0-9]{3}\)?[-.\s]?[0-9]{3}[-.\s]?[0-9]{4})/);i&&(s.profile.phone=i[1]);const n=[/(?:located?\s+in|based\s+in|from)\s+([A-Z][a-z]+(?:\s+[A-Z][a-z]+)*,\s*[A-Z]{2,})/i,/([A-Z][a-z]+,\s*[A-Z]{2,3}(?:\s+[0-9]{5})?)/,/([A-Z][a-z]+\s*,\s*[A-Z][a-z]+\s*,\s*[A-Z]{2,})/];for(const o of n){const e=t.match(o);if(e){s.profile.location=e[1];break}}const l=t.match(/(linkedin\.com\/in\/[a-zA-Z0-9-]+)/);l&&(s.profile.links=[{label:"LinkedIn",url:`https://${l[1]}`}])}static extractSummary(e,s){const t=["about","summary","profile","overview","professional summary"];let r=-1,a=-1;for(let i=0;i<e.length;i++){const s=e[i].toLowerCase();if(t.some(e=>s.includes(e))&&s.length<50){r=i+1;break}}if(-1!==r){const t=["experience","education","skills","certifications","projects"];for(let s=r;s<e.length;s++){const r=e[s].toLowerCase();if(t.some(e=>r.includes(e))&&r.length<50){a=s;break}}const i=e.slice(r,-1===a?r+5:a);s.summary=i.join(" ").replace(/\s+/g," ").trim()}}static extractExperience(e,s){const t=["experience","work history","employment","professional experience"];let r=-1;for(let a=0;a<e.length;a++){const s=e[a].toLowerCase();if(t.some(e=>s.includes(e))&&s.length<50){r=a+1;break}}if(-1!==r)for(let a=r;a<e.length;a++){const t=e[a];if(this.isNewSection(t))break;const r=/^([A-Z][^,\n]+?)(?:\s+at\s+|\s+@\s+|\s+-\s+)([A-Z][^,\n]+?)(?:\s*·\s*(.+))?$/i,i=t.match(r);if(i){const t={role:i[1].trim(),company:i[2].trim(),location:"",start:"",end:"",bullets:[]};for(let s=a+1;s<Math.min(a+3,e.length);s++){const r=e[s].match(/(\w+\s+\d{4})\s*[-–]\s*(\w+\s+\d{4}|Present)/i);if(r){t.start=this.normalizeDate(r[1]),t.end="Present"===r[2]?"Present":this.normalizeDate(r[2]);break}}for(let s=a+1;s<Math.min(a+5,e.length)&&(!this.isNewSection(e[s])&&!this.looksLikeJobTitle(e[s]));s++)e[s].length>20&&!e[s].match(/^\w+\s+\d{4}/)&&t.bullets.push(e[s]);t.role&&t.company&&s.experience.push(t)}}}static extractEducation(e,s){const t=["education","academic","university","college","school"];let r=-1;for(let a=0;a<e.length;a++){const s=e[a].toLowerCase();if(t.some(e=>s.includes(e))&&s.length<50){r=a+1;break}}if(-1!==r)for(let a=r;a<e.length;a++){const t=e[a];if(this.isNewSection(t))break;const r=/^(Bachelor|Master|PhD|BS|MS|BA|MA|MBA|Doctor).*?(?:\s+at\s+|\s+from\s+|\s+-\s+)(.+?)(?:\s*·\s*(.+))?$/i,i=/^([A-Z][^,\n]+(?:University|College|Institute|School)[^,\n]*)(?:\s*·\s*(.+))?$/i;let n=t.match(r)||t.match(i);if(n){const t={degree:n[1]?.trim()||"Degree",school:n[2]?.trim()||n[1]?.trim()||"School",start:"",end:"",details:""};for(let s=a+1;s<Math.min(a+3,e.length);s++){const r=e[s].match(/(\d{4})\s*[-–]\s*(\d{4})/);if(r){t.start=`JAN ${r[1]}`,t.end=`DEC ${r[2]}`;break}}s.education.push(t)}}}static extractSkills(e,s){const t=["skills","technologies","expertise","competencies"];let r=-1;for(let l=0;l<e.length;l++){const s=e[l].toLowerCase();if(t.some(e=>s.includes(e))&&s.length<50){r=l+1;break}}if(-1===r)return;const a=e.slice(r,Math.min(r+10,e.length)).join(" ").toLowerCase(),i=this.extractSkillsByCategory(a,["javascript","python","java","react","node.js","aws","docker","sql","typescript","html","css","mongodb","postgresql","git","linux"]),n=this.extractSkillsByCategory(a,["leadership","communication","teamwork","problem solving","management","project management","analytical","creative","strategic planning"]);s.skills.core=i.slice(0,8),s.skills.soft=n.slice(0,5)}static extractCertificationsAndAwards(e,s){const t=["certifications","certificates","awards","honors","achievements"];for(let r=0;r<e.length;r++){const a=e[r].toLowerCase();if(t.some(e=>a.includes(e))&&a.length<50)for(let t=r+1;t<Math.min(r+8,e.length)&&!this.isNewSection(e[t]);t++)e[t].length>10&&e[t].length<100&&(a.includes("cert")?s.extras.certifications.push(e[t]):s.extras.awards.push(e[t]))}}static isNewSection(e){const s=e.toLowerCase();return["experience","education","skills","certifications","projects","awards","publications","languages","volunteer"].some(e=>s.includes(e))&&e.length<50}static looksLikeJobTitle(e){return/^[A-Z][^,\n]+(?:\s+at\s+|\s+@\s+|\s+-\s+)[A-Z]/.test(e)}static extractSkillsByCategory(e,s){return s.filter(s=>e.includes(s.toLowerCase())||e.includes(s.replace(/\./g,"").toLowerCase()))}static normalizeDate(e){const s={january:"JAN",february:"FEB",march:"MAR",april:"APR",may:"MAY",june:"JUN",july:"JUL",august:"AUG",september:"SEP",october:"OCT",november:"NOV",december:"DEC",jan:"JAN",feb:"FEB",mar:"MAR",apr:"APR",jun:"JUN",jul:"JUL",aug:"AUG",sep:"SEP",oct:"OCT",nov:"NOV",dec:"DEC"},t=e.match(/(\w+)\s+(\d{4})/i);if(t){return`${s[t[1].toLowerCase()]||t[1].toUpperCase().slice(0,3)} ${t[2]}`}return e}static validateAndCleanData(e){if(e.profile.name&&(e.profile.name=e.profile.name.replace(/[^\w\s]/g,"").trim()),e.profile.email){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.profile.email)||delete e.profile.email}return e.experience.forEach(e=>{e.bullets=e.bullets.map(e=>e.replace(/[^\w\s.,;:()\-]/g,"").trim()).filter(e=>e.length>10&&e.length<300).slice(0,4)}),e.skills.core=[...new Set(e.skills.core)],e.skills.soft=[...new Set(e.skills.soft)],e.experience=e.experience.slice(0,5),e.education=e.education.slice(0,3),e.extras.certifications=e.extras.certifications.slice(0,5),e.extras.awards=e.extras.awards.slice(0,3),e}static async importToResumeBuilder(e,s){try{return await Z.from("tool_events").insert({user_id:s,event:"linkedin_import_used",meta:{source:"linkedin_pdf",data_quality:this.assessDataQuality(e)}}),{success:!0,data:e,message:"LinkedIn data imported successfully"}}catch(t){return{success:!1,error:t.message}}}static assessDataQuality(e){let s=0,t=0;const r=["name","email","location"];return r.forEach(r=>{t+=10,e.profile[r]&&(s+=10)}),t+=15,e.summary&&e.summary.length>50&&(s+=15),t+=25,e.experience.length>0&&(s+=10,e.experience.length>=2&&(s+=10),e.experience.some(e=>e.bullets.length>0)&&(s+=5)),t+=15,e.education.length>0&&(s+=15),t+=20,e.skills.core.length>0&&(s+=10),e.skills.core.length>=3&&(s+=10),t+=15,e.extras.certifications.length>0&&(s+=10),e.extras.awards.length>0&&(s+=5),{score:Math.round(s/t*100),completeness:{profile:r.filter(s=>e.profile[s]).length,experience:e.experience.length,education:e.education.length,skills:e.skills.core.length}}}}const q=x("https://ktqrzokrqizfjqdgwmqs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt0cXJ6b2tycWl6ZmpxZGd3bXFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzIzOTIsImV4cCI6MjA2OTgwODM5Mn0.2g3y9b7bsX444RlJ5_syCtHb-WEhHmZf2WxucPrRiPQ");class B{static INDUSTRY_TEMPLATES={technology:{name:"Technology & Software",templates:[{key:"tech_modern",name:"Tech Professional",description:"Modern template for software engineers and tech professionals",features:["Technical skills emphasis","Project portfolio","GitHub integration"],sections:["profile","summary","skills","experience","projects","education"],skillCategories:["Programming Languages","Frameworks","Tools & Technologies","Soft Skills"],isPremium:!1},{key:"tech_senior",name:"Senior Tech Lead",description:"Executive template for senior engineers and tech leads",features:["Leadership focus","Team management","Architecture decisions"],sections:["profile","summary","experience","leadership","skills","education"],skillCategories:["Technical Leadership","Architecture","Team Management","Technologies"],isPremium:!0},{key:"tech_startup",name:"Startup Engineer",description:"Dynamic template for startup environments",features:["Versatility emphasis","Impact metrics","Growth orientation"],sections:["profile","summary","experience","projects","skills","achievements"],skillCategories:["Full Stack","DevOps","Product","Soft Skills"],isPremium:!0}]},healthcare:{name:"Healthcare & Medical",templates:[{key:"healthcare_clinical",name:"Clinical Professional",description:"Template for doctors, nurses, and clinical staff",features:["Certifications focus","Patient care experience","Clinical skills"],sections:["profile","summary","experience","education","certifications","skills"],skillCategories:["Clinical Skills","Patient Care","Medical Technologies","Soft Skills"],isPremium:!1},{key:"healthcare_research",name:"Medical Research",description:"Template for medical researchers and academics",features:["Publications emphasis","Research experience","Academic credentials"],sections:["profile","summary","education","research","publications","experience"],skillCategories:["Research Methods","Laboratory Skills","Data Analysis","Communication"],isPremium:!0}]},finance:{name:"Finance & Banking",templates:[{key:"finance_analyst",name:"Financial Analyst",description:"Template for financial analysts and advisors",features:["Quantitative skills","Financial modeling","Compliance knowledge"],sections:["profile","summary","experience","skills","certifications","education"],skillCategories:["Financial Analysis","Modeling Tools","Regulations","Soft Skills"],isPremium:!1},{key:"finance_executive",name:"Finance Executive",description:"Executive template for CFOs and finance leaders",features:["Strategic leadership","P&L responsibility","Board experience"],sections:["profile","summary","experience","leadership","education","board"],skillCategories:["Strategic Planning","Financial Leadership","Risk Management","Governance"],isPremium:!0}]},marketing:{name:"Marketing & Sales",templates:[{key:"marketing_digital",name:"Digital Marketing",description:"Template for digital marketers and growth professionals",features:["Campaign metrics","Digital channels","Growth achievements"],sections:["profile","summary","experience","campaigns","skills","education"],skillCategories:["Digital Marketing","Analytics Tools","Creative Skills","Strategy"],isPremium:!1},{key:"marketing_creative",name:"Creative Marketing",description:"Template for creative professionals and brand managers",features:["Portfolio showcase","Brand experience","Creative achievements"],sections:["profile","summary","experience","portfolio","skills","awards"],skillCategories:["Creative Tools","Brand Strategy","Design Skills","Communication"],isPremium:!0}]},education:{name:"Education & Training",templates:[{key:"education_teacher",name:"Educator",description:"Template for teachers and educational professionals",features:["Teaching experience","Student outcomes","Curriculum development"],sections:["profile","summary","experience","education","certifications","achievements"],skillCategories:["Teaching Methods","Curriculum Design","Technology Integration","Leadership"],isPremium:!1},{key:"education_admin",name:"Education Administrator",description:"Template for principals and education leaders",features:["Leadership experience","Institutional outcomes","Policy development"],sections:["profile","summary","experience","leadership","education","achievements"],skillCategories:["Educational Leadership","Policy Development","Budget Management","Community Relations"],isPremium:!0}]},consulting:{name:"Consulting & Strategy",templates:[{key:"consulting_analyst",name:"Management Consultant",description:"Template for consultants and analysts",features:["Client impact","Problem solving","Industry expertise"],sections:["profile","summary","experience","projects","skills","education"],skillCategories:["Analytical Skills","Industry Knowledge","Client Management","Communication"],isPremium:!1},{key:"consulting_partner",name:"Consulting Partner",description:"Executive template for senior consultants and partners",features:["Client relationships","Business development","Thought leadership"],sections:["profile","summary","experience","leadership","business_dev","education"],skillCategories:["Strategic Consulting","Business Development","Thought Leadership","Client Relations"],isPremium:!0}]}};static async getIndustryTemplates(e=null){try{return e&&this.INDUSTRY_TEMPLATES[e]?{success:!0,industry:this.INDUSTRY_TEMPLATES[e],templates:this.INDUSTRY_TEMPLATES[e].templates}:{success:!0,industries:Object.keys(this.INDUSTRY_TEMPLATES).map(e=>({key:e,...this.INDUSTRY_TEMPLATES[e],templateCount:this.INDUSTRY_TEMPLATES[e].templates.length,freeTemplateCount:this.INDUSTRY_TEMPLATES[e].templates.filter(e=>!e.isPremium).length}))}}catch(s){return{success:!1,error:s.message}}}static async getTemplateById(e){try{for(const s of Object.values(this.INDUSTRY_TEMPLATES)){const t=s.templates.find(s=>s.key===e);if(t)return{success:!0,template:{...t,industry:s.name,customizations:this.getTemplateCustomizations(e)}}}return{success:!1,error:"Template not found"}}catch(s){return{success:!1,error:s.message}}}static getTemplateCustomizations(e){const s={tech_modern:{colorScheme:{primary:"#0066CC",secondary:"#004499",accent:"#00AA44"},fonts:{heading:"Inter",body:"Inter"},layout:"two-column",emphasis:["skills","projects"],skillFormat:"badges",projectFormat:"detailed"},tech_senior:{colorScheme:{primary:"#1a1a2e",secondary:"#16213e",accent:"#0f3460"},fonts:{heading:"Merriweather",body:"Open Sans"},layout:"single-column",emphasis:["experience","leadership"],skillFormat:"categories",experienceFormat:"achievement-focused"},healthcare_clinical:{colorScheme:{primary:"#2e7d32",secondary:"#1b5e20",accent:"#43a047"},fonts:{heading:"Roboto",body:"Roboto"},layout:"traditional",emphasis:["certifications","experience"],certificationFormat:"prominent",experienceFormat:"patient-outcomes"},finance_analyst:{colorScheme:{primary:"#1565c0",secondary:"#0d47a1",accent:"#1976d2"},fonts:{heading:"Roboto Slab",body:"Source Sans Pro"},layout:"professional",emphasis:["experience","skills"],skillFormat:"technical-focus",experienceFormat:"quantified-results"},marketing_creative:{colorScheme:{primary:"#7b1fa2",secondary:"#4a148c",accent:"#9c27b0"},fonts:{heading:"Montserrat",body:"Lato"},layout:"creative",emphasis:["portfolio","experience"],portfolioFormat:"visual",experienceFormat:"creative-impact"}};return s[e]||s.tech_modern}static async recommendTemplate(e,s={}){try{const s=[],t=this.analyzeIndustrySignals(e),r=this.analyzeExperienceLevel(e);this.getRoleRecommendations(e,t);for(const[a,i]of Object.entries(this.INDUSTRY_TEMPLATES))for(const n of i.templates){const l=this.calculateTemplateScore(n,t,r,e);l>.3&&s.push({template:n,industry:i.name,industryKey:a,score:l,reasoning:this.generateRecommendationReasoning(n,t,r)})}return s.sort((e,s)=>s.score-e.score),{success:!0,recommendations:s.slice(0,6),industrySignals:t,experienceLevel:r}}catch(t){return{success:!1,error:t.message}}}static analyzeIndustrySignals(e){const s={technology:0,healthcare:0,finance:0,marketing:0,education:0,consulting:0},t=JSON.stringify(e).toLowerCase(),r=["software","developer","engineer","programming","coding","javascript","python","react","node","api","database","cloud","devops","agile","scrum"];s.technology=this.countKeywords(t,r)/r.length;const a=["medical","patient","clinical","hospital","healthcare","nurse","doctor","physician","treatment","diagnosis","surgery","therapy"];s.healthcare=this.countKeywords(t,a)/a.length;const i=["financial","banking","investment","portfolio","accounting","audit","risk","compliance","trading","analyst","budget","revenue"];s.finance=this.countKeywords(t,i)/i.length;const n=["marketing","campaign","brand","advertising","digital","social media","seo","content","analytics","growth","acquisition","conversion"];s.marketing=this.countKeywords(t,n)/n.length;const l=["teacher","education","student","curriculum","classroom","instruction","learning","academic","school","university","training"];s.education=this.countKeywords(t,l)/l.length;const o=["consulting","strategy","client","advisory","analysis","recommendation","implementation","optimization","transformation","process improvement"];return s.consulting=this.countKeywords(t,o)/o.length,s}static analyzeExperienceLevel(e){const s=e.experience||[];let t=0,r=0,a=0;return s.forEach(e=>{if(e.start&&e.end){const s=this.calculateYearsBetween(e.start,e.end);t+=s}const s=(e.role||"").toLowerCase();(s.includes("senior")||s.includes("lead")||s.includes("principal"))&&r++,(s.includes("manager")||s.includes("director")||s.includes("head")||s.includes("vp"))&&a++}),{totalYears:t,level:t<3?"junior":t<7?"mid":"senior",hasLeadership:a>0,hasSeniorRoles:r>0,experienceCount:s.length}}static calculateTemplateScore(e,s,t,r){let a=0;const i=this.getTemplateIndustry(e.key);i&&s[i]&&(a+=.4*s[i]);const n=e.key.includes("senior")||e.key.includes("executive")||e.key.includes("partner"),l=e.key.includes("analyst")||!n;"senior"===t.level&&n?a+=.3:"junior"===t.level&&l?a+=.2:"mid"===t.level&&(a+=.15),t.hasLeadership&&n&&(a+=.2);const o=Object.keys(r).filter(e=>r[e]&&(!Array.isArray(r[e])||r[e].length>0));return a+=.1*(e.sections.filter(e=>o.includes(e)).length/e.sections.length),Math.min(a,1)}static getTemplateIndustry(e){for(const[s,t]of Object.entries(this.INDUSTRY_TEMPLATES))if(t.templates.some(s=>s.key===e))return s;return null}static generateRecommendationReasoning(e,s,t){const r=[],a=this.getTemplateIndustry(e.key);return a&&s[a]>.3&&r.push(`Strong match for ${a} industry`),"senior"===t.level&&e.key.includes("senior")&&r.push("Suitable for senior-level professionals"),t.hasLeadership&&e.features.some(e=>e.toLowerCase().includes("leadership"))&&r.push("Emphasizes leadership experience"),e.features.length>0&&r.push(`Features: ${e.features.slice(0,2).join(", ")}`),r.length>0?r.join(" • "):"Good general template for your profile"}static countKeywords(e,s){return s.reduce((s,t)=>s+(e.includes(t)?1:0),0)}static calculateYearsBetween(e,s){try{const t=parseInt(e.split(" ")[1]||e),r="Present"===s?(new Date).getFullYear():parseInt(s.split(" ")[1]||s);return Math.max(0,r-t)}catch{return 1}}static async generateIndustrySpecificContent(e,s){try{const t=await this.getTemplateById(e);if(!t.success)throw new Error("Template not found");return{success:!0,content:{skillCategories:this.generateSkillCategories(e,s),sectionPriority:t.template.sections,contentSuggestions:this.generateContentSuggestions(e,s),industryKeywords:this.getIndustryKeywords(e)}}}catch(t){return{success:!1,error:t.message}}}static generateSkillCategories(e,s){const t=Object.values(this.INDUSTRY_TEMPLATES).flatMap(e=>e.templates).find(s=>s.key===e);return t?t.skillCategories||["Core Skills","Technical Skills","Soft Skills"]:["Technical Skills","Soft Skills"]}static generateContentSuggestions(e,s){const t=[];return e.startsWith("tech_")?(t.push("Include specific technologies and programming languages"),t.push("Quantify your impact with metrics (performance improvements, user growth)"),t.push("Mention relevant projects and contributions to open source")):e.startsWith("healthcare_")?(t.push("Highlight patient outcomes and quality improvements"),t.push("Include relevant certifications and continuing education"),t.push("Mention compliance and safety record")):e.startsWith("finance_")&&(t.push("Quantify financial impact and cost savings"),t.push("Include relevant financial certifications (CPA, CFA, etc.)"),t.push("Highlight risk management and compliance experience")),t}static getIndustryKeywords(e){const s={tech_:["agile","scrum","ci/cd","microservices","cloud","api","scalability","performance"],healthcare_:["patient care","clinical excellence","evidence-based","quality improvement","compliance"],finance_:["risk management","financial modeling","compliance","due diligence","portfolio management"],marketing_:["roi","conversion rate","brand awareness","customer acquisition","analytics"],education_:["student outcomes","curriculum development","differentiated instruction","assessment"],consulting_:["client satisfaction","process improvement","strategic planning","change management"]};for(const[t,r]of Object.entries(s))if(e.startsWith(t))return r;return[]}static async trackTemplateUsage(e,s,t={}){try{await q.from("tool_events").insert({user_id:s,event:"industry_template_used",meta:{template_key:e,industry:this.getTemplateIndustry(e),...t}})}catch(r){console.error("Error tracking template usage:",r)}}static async getTemplateAnalytics(e=null){try{let s=q.from("tool_events").select("meta, created_at").eq("event","industry_template_used");e&&(s=s.eq("meta->template_key",e));const{data:t,error:r}=await s.gte("created_at",new Date(Date.now()-2592e6).toISOString()).order("created_at",{ascending:!1});if(r)throw r;return{success:!0,analytics:this.processTemplateAnalytics(t)}}catch(s){return{success:!1,error:s.message}}}static processTemplateAnalytics(e){const s={totalUsage:e.length,byTemplate:{},byIndustry:{},trending:[]};return e.forEach(e=>{const t=e.meta?.template_key,r=e.meta?.industry;t&&(s.byTemplate[t]=(s.byTemplate[t]||0)+1),r&&(s.byIndustry[r]=(s.byIndustry[r]||0)+1)}),s.trending=Object.entries(s.byTemplate).sort(([,e],[,s])=>s-e).slice(0,5).map(([e,s])=>({template:e,count:s})),s}}x("https://ktqrzokrqizfjqdgwmqs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt0cXJ6b2tycWl6ZmpxZGd3bXFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzIzOTIsImV4cCI6MjA2OTgwODM5Mn0.2g3y9b7bsX444RlJ5_syCtHb-WEhHmZf2WxucPrRiPQ"),x("https://ktqrzokrqizfjqdgwmqs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt0cXJ6b2tycWl6ZmpxZGd3bXFzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyMzIzOTIsImV4cCI6MjA2OTgwODM5Mn0.2g3y9b7bsX444RlJ5_syCtHb-WEhHmZf2WxucPrRiPQ");const Y=o({profile:o({name:d().min(2,"Name must be at least 2 characters"),email:d().email("Please enter a valid email address"),phone:d().optional(),location:d().optional(),headline:d().optional(),links:c(o({label:d(),url:d().url("Please enter a valid URL")})).optional()}),summary:d().min(50,"Summary should be at least 50 characters").max(500,"Summary should not exceed 500 characters"),experience:c(o({company:d().min(1,"Company name is required"),role:d().min(1,"Role is required"),location:d().optional(),start:d().min(1,"Start date is required"),end:d().min(1,"End date is required"),bullets:c(d()),technologies:c(d()).optional()})),education:c(o({school:d().min(1,"School name is required"),degree:d().min(1,"Degree is required"),start:d().optional(),end:d().optional(),details:d().optional()})),skills:o({core:c(d()),tools:c(d()),soft:c(d())}),projects:c(o({name:d(),role:d().optional(),link:d().optional(),bullets:c(d()),technologies:c(d()).optional()})).optional(),extras:o({certifications:c(d()),awards:c(d()),languages:c(d())}).optional()}),$=()=>{const[o,c]=r.useState(null),[d,p]=r.useState(1),[x,Z]=r.useState(null),[q,$]=r.useState("modern"),[W,G]=r.useState(null),[K,H]=r.useState(!0),[V,ee]=r.useState(!1),[se,te]=r.useState(null),[re,ae]=r.useState(!1),[ie,ne]=r.useState(!1),[le,oe]=r.useState(!1),[ce,de]=r.useState(!1),[me,ue]=r.useState(!1),[pe,xe]=r.useState([]),[he,ge]=r.useState([]),[fe,be]=r.useState(!1),[ye,je]=r.useState("desktop"),[ve,Ne]=r.useState(!1),[ke,we]=r.useState("content"),{control:Se,handleSubmit:Ce,watch:Ie,setValue:Te,formState:{errors:Ae}}=i({resolver:n(Y),defaultValues:{profile:{name:"",email:"",phone:"",location:"",headline:"",links:[]},summary:"",experience:[{company:"",role:"",location:"",start:"",end:"",bullets:[""],technologies:[]}],education:[{school:"",degree:"",start:"",end:"",details:""}],skills:{core:[],tools:[],soft:[]},projects:[],extras:{certifications:[],awards:[],languages:[]}}}),ze=Ie(),Pe=r.useMemo(()=>[{id:1,title:"Personal Information",icon:h,description:"Basic contact details and professional headline",fields:["profile"],estimated:"2 min"},{id:2,title:"Professional Summary",icon:g,description:"Compelling overview of your expertise",fields:["summary"],estimated:"3 min",aiFeature:"AI Polish Available"},{id:3,title:"Work Experience",icon:f,description:"Your professional journey and achievements",fields:["experience"],estimated:"8 min",aiFeature:"AI Enhancement"},{id:4,title:"Education",icon:b,description:"Academic background and qualifications",fields:["education"],estimated:"3 min"},{id:5,title:"Skills & Technologies",icon:y,description:"Technical and soft skills showcase",fields:["skills"],estimated:"4 min",aiFeature:"Industry Optimization"},{id:6,title:"Projects & Achievements",icon:j,description:"Notable projects and accomplishments",fields:["projects","extras"],estimated:"5 min"},{id:7,title:"Review & Export",icon:v,description:"Final review and professional export",fields:[],estimated:"2 min"}],[]);r.useEffect(()=>{Ee()},[]);const Ee=async()=>{try{H(!0);const e=await l.getCurrentUser();if(e.success){c(e.user);const s=await l.getUserQuotas(e.user.id);s.success&&G(s);const t=await B.recommendTemplate(ze,e.user);t.success&&xe(t.recommendations.slice(0,3))}}catch(e){console.error("Error initializing builder:",e)}finally{H(!1)}};r.useEffect(()=>{const e=setTimeout(()=>{Le()},2e3);return()=>clearTimeout(e)},[ze]);const Le=async()=>{if(o&&!V)try{ee(!0),te(new Date)}catch(e){console.error("Auto-save failed:",e)}finally{ee(!1)}},De=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{name:"profile.name",control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., John Smith"})}),Ae.profile?.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Ae.profile.name.message})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{name:"profile.email",control:Se,render:({field:s})=>e.jsx("input",{...s,type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"john.smith@email.com"})}),Ae.profile?.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Ae.profile.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),e.jsx(m,{name:"profile.phone",control:Se,render:({field:s})=>e.jsx("input",{...s,type:"tel",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"+1 (555) 123-4567"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),e.jsx(m,{name:"profile.location",control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"New York, NY"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Professional Headline"}),e.jsx(m,{name:"profile.headline",control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Senior Software Engineer | Full-Stack Developer"})}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"A brief, compelling statement that summarizes your professional identity"})]}),e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-lg",children:e.jsx(R,{size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Import from LinkedIn"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Auto-fill your profile from LinkedIn PDF export"})]})]}),e.jsx("button",{onClick:()=>ne(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Import Profile"})]})})]}),Me=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700",children:["Professional Summary ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("button",{onClick:()=>(async(e,s)=>{if(o)try{if(!(await l.checkQuotaLimit(o.id,"ai_polish")))return void Ne(!0);const t=await l.polishContent(s,"professional");t.success&&(Te(e,t.polished),await l.incrementQuotaUsage(o.id,"ai_polish"))}catch(t){console.error("AI polish failed:",t)}})("summary",ze.summary),className:"flex items-center gap-2 bg-purple-600 text-white px-3 py-1 rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:[e.jsx(F,{size:14}),"AI Polish"]})]}),e.jsx(m,{name:"summary",control:Se,render:({field:s})=>e.jsx("textarea",{...s,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Write a compelling 2-3 sentence overview of your professional background, key skills, and career achievements. This is your elevator pitch to potential employers."})}),Ae.summary&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:Ae.summary.message}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:"Tip: Focus on your unique value proposition and key achievements"}),e.jsxs("span",{className:"text-sm "+(ze.summary?.length>400?"text-red-500":"text-gray-500"),children:[ze.summary?.length||0,"/500"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-6 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-purple-600 text-white p-2 rounded-lg",children:e.jsx(z,{size:20})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Writing Assistant"})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Get personalized suggestions to improve your summary's impact and ATS compatibility."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("button",{className:"bg-white border border-purple-200 text-purple-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-50 transition-colors",children:"Professional Tone"}),e.jsx("button",{className:"bg-white border border-purple-200 text-purple-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-50 transition-colors",children:"Add Metrics"}),e.jsx("button",{className:"bg-white border border-purple-200 text-purple-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-purple-50 transition-colors",children:"Industry Keywords"})]})]})]}),_e=()=>{const{fields:s,append:t,remove:r}=u({control:Se,name:"experience"});return e.jsxs("div",{className:"space-y-6",children:[s.map((t,a)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Experience #",a+1]}),s.length>1&&e.jsx("button",{onClick:()=>r(a),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(O,{size:18})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Company ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{name:`experience.${a}.company`,control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Google Inc."})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Role/Position ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{name:`experience.${a}.role`,control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Senior Software Engineer"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{name:`experience.${a}.start`,control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., JAN 2022"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["End Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{name:`experience.${a}.end`,control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Present or DEC 2023"})})]})]}),e.jsx(Fe,{experienceIndex:a,control:Se})]},t.id)),e.jsxs("button",{onClick:()=>t({company:"",role:"",location:"",start:"",end:"",bullets:[""]}),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-6 text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[e.jsx(J,{size:24,className:"mx-auto mb-2"}),"Add Another Experience"]})]})},Fe=({experienceIndex:s,control:t})=>{const{fields:r,append:a,remove:i}=u({control:t,name:`experience.${s}.bullets`});return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Key Achievements & Responsibilities"}),e.jsxs("button",{onClick:()=>de(!0),className:"flex items-center gap-2 bg-purple-600 text-white px-3 py-1 rounded-lg text-sm font-medium hover:bg-purple-700 transition-colors",children:[e.jsx(F,{size:14}),"AI Enhance"]})]}),r.map((a,n)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{name:`experience.${s}.bullets.${n}`,control:t,render:({field:s})=>e.jsx("textarea",{...s,rows:2,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"• Quantify your achievements with metrics (e.g., increased sales by 25%, managed team of 10 people)"})}),r.length>1&&e.jsx("button",{onClick:()=>i(n),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(O,{size:16})})]},a.id)),e.jsxs("button",{onClick:()=>a(""),className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1",children:[e.jsx(J,{size:16}),"Add Achievement"]})]})},Re=()=>{const{fields:s,append:t,remove:r}=u({control:Se,name:"education"});return e.jsxs("div",{className:"space-y-6",children:[s.map((t,a)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Education #",a+1]}),s.length>1&&e.jsx("button",{onClick:()=>r(a),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(O,{size:18})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["School/University ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{name:`education.${a}.school`,control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Stanford University"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Degree ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{name:`education.${a}.degree`,control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Bachelor of Science in Computer Science"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Year"}),e.jsx(m,{name:`education.${a}.start`,control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 2018"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Year"}),e.jsx(m,{name:`education.${a}.end`,control:Se,render:({field:s})=>e.jsx("input",{...s,type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., 2022"})})]})]})]},t.id)),e.jsxs("button",{onClick:()=>t({school:"",degree:"",start:"",end:"",details:""}),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-6 text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[e.jsx(J,{size:24,className:"mx-auto mb-2"}),"Add Education"]})]})},Oe=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(Je,{title:"Core Technical Skills",name:"skills.core",control:Se}),e.jsx(Je,{title:"Tools & Technologies",name:"skills.tools",control:Se}),e.jsx(Je,{title:"Soft Skills",name:"skills.soft",control:Se}),pe.length>0&&e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-green-600 text-white p-2 rounded-lg",children:e.jsx(E,{size:20})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Industry Skill Recommendations"})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:"Based on your profile, consider adding these in-demand skills:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:pe.map((s,t)=>e.jsx("span",{className:"bg-white border border-green-300 text-green-700 px-3 py-1 rounded-full text-sm",children:s.template.name},t))})]})]}),Je=({title:s,name:t,control:r})=>{const{fields:a,append:i,remove:n}=u({control:r,name:t});return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:s}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:a.map((s,a)=>e.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center gap-2",children:[e.jsx(m,{name:`${t}.${a}`,control:r,render:({field:s})=>e.jsx("input",{...s,className:"bg-transparent border-none outline-none text-sm",placeholder:"Skill name"})}),e.jsx("button",{onClick:()=>n(a),className:"text-blue-600 hover:text-blue-800",children:e.jsx(O,{size:14})})]},s.id))}),e.jsxs("button",{onClick:()=>i(""),className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1",children:[e.jsx(J,{size:16}),"Add Skill"]})]})},Ze=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Projects (Optional)"}),e.jsx(Ue,{control:Se})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Additional Information"}),e.jsx(qe,{control:Se})]})]}),Ue=({control:s})=>{const{fields:t,append:r,remove:a}=u({control:s,name:"projects"});return e.jsxs("div",{className:"space-y-4",children:[t.map((t,r)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Project #",r+1]}),e.jsx("button",{onClick:()=>a(r),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(O,{size:16})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{name:`projects.${r}.name`,control:s,render:({field:s})=>e.jsx("input",{...s,placeholder:"Project name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.jsx(m,{name:`projects.${r}.link`,control:s,render:({field:s})=>e.jsx("input",{...s,placeholder:"Project URL (optional)",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})})]})]},t.id)),e.jsxs("button",{onClick:()=>r({name:"",role:"",link:"",bullets:[],technologies:[]}),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors",children:[e.jsx(J,{size:20,className:"mx-auto mb-1"}),"Add Project"]})]})},qe=({control:s})=>e.jsxs("div",{className:"space-y-6",children:[e.jsx(Be,{title:"Certifications",name:"extras.certifications",control:s}),e.jsx(Be,{title:"Awards & Achievements",name:"extras.awards",control:s}),e.jsx(Be,{title:"Languages",name:"extras.languages",control:s})]}),Be=({title:s,name:t,control:r})=>{const{fields:a,append:i,remove:n}=u({control:r,name:t});return e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:s}),e.jsxs("div",{className:"space-y-2",children:[a.map((a,i)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{name:`${t}.${i}`,control:r,render:({field:t})=>e.jsx("input",{...t,placeholder:`Add ${s.toLowerCase()}`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.jsx("button",{onClick:()=>n(i),className:"text-red-500 hover:text-red-700 p-1",children:e.jsx(O,{size:16})})]},a.id)),e.jsxs("button",{onClick:()=>i(""),className:"text-blue-600 hover:text-blue-700 font-medium text-sm flex items-center gap-1",children:[e.jsx(J,{size:16}),"Add ",s]})]})]})},Ye=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-green-600 text-white p-2 rounded-lg",children:e.jsx(v,{size:20})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Resume Complete!"})]}),e.jsx("p",{className:"text-gray-700",children:"Your professional resume is ready. Review the preview and export when you're satisfied."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(L,{size:20}),"Download PDF"]}),e.jsxs("button",{className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(g,{size:20}),"Download DOCX"]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg p-6 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"bg-purple-600 text-white p-2 rounded-lg",children:e.jsx(P,{size:20})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Premium Features"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(E,{className:"mx-auto mb-2 text-purple-600",size:24}),e.jsx("p",{className:"font-medium",children:"ATS Score: 85%"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Excellent"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(D,{className:"mx-auto mb-2 text-purple-600",size:24}),e.jsx("p",{className:"font-medium",children:"Share & Collaborate"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get feedback"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(M,{className:"mx-auto mb-2 text-purple-600",size:24}),e.jsx("p",{className:"font-medium",children:"Cover Letter"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Auto-generate"})]})]})]})]});return K?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading Resume Builder..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Resume Builder"}),se&&e.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(v,{size:14,className:"text-green-500"}),"Last saved: ",se.toLocaleTimeString()]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>ae(!0),className:"flex items-center gap-2 bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(_,{size:16}),"Template"]}),e.jsxs("button",{onClick:()=>je("desktop"===ye?"mobile":"desktop"),className:"flex items-center gap-2 bg-gray-100 text-gray-700 px-3 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:[e.jsx(N,{size:16}),"desktop"===ye?"Mobile":"Desktop"," Preview"]}),e.jsx("button",{onClick:Le,disabled:V,className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50",children:V?"Saving...":"Save"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-12 gap-8",children:[e.jsx("div",{className:(fe?"col-span-1":"col-span-3")+" transition-all duration-300",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 sticky top-24",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[!fe&&e.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress"}),e.jsx("button",{onClick:()=>be(!fe),className:"text-gray-500 hover:text-gray-700",children:fe?e.jsx(k,{size:20}):e.jsx(w,{size:20})})]}),!fe&&e.jsx("div",{className:"space-y-3",children:Pe.map(s=>e.jsx("button",{onClick:()=>(e=>{p(e)})(s.id),className:"w-full text-left p-3 rounded-lg transition-all duration-200 "+(d===s.id?"bg-blue-50 border border-blue-200 text-blue-700":"hover:bg-gray-50 text-gray-600"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg "+(d===s.id?"bg-blue-600 text-white":"bg-gray-100 text-gray-600"),children:a.createElement(s.icon,{size:16})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm",children:s.title}),e.jsx("p",{className:"text-xs opacity-70",children:s.estimated})]}),d>s.id&&e.jsx(v,{size:16,className:"text-green-500"})]})},s.id))})]})}),e.jsxs("div",{className:(fe?"col-span-7":"col-span-5")+" transition-all duration-300",children:[e.jsx(s,{mode:"wait",children:e.jsx(t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:(()=>{const s=Pe.find(e=>e.id===d);return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-blue-600 text-white p-3 rounded-lg",children:a.createElement(s.icon,{size:24})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.title}),e.jsx("p",{className:"text-gray-600 mt-1",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[e.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[e.jsx(A,{size:14,className:"inline mr-1"}),s.estimated]}),s.aiFeature&&e.jsxs("span",{className:"text-sm text-purple-600 font-medium",children:[e.jsx(z,{size:14,className:"inline mr-1"}),s.aiFeature]})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8",children:[1===d&&De(),2===d&&Me(),3===d&&_e(),4===d&&Re(),5===d&&Oe(),6===d&&Ze(),7===d&&Ye()]})]})})()},d)}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsxs("button",{onClick:()=>{d>1&&p(d-1)},disabled:1===d,className:"flex items-center gap-2 bg-gray-100 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(S,{size:20}),"Previous"]}),e.jsxs("button",{onClick:()=>{d<Pe.length&&p(d+1)},disabled:d===Pe.length,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",e.jsx(C,{size:20})]})]})]}),e.jsx("div",{className:"col-span-4 transition-all duration-300",children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 sticky top-24",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Live Preview"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:q}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:e.jsx(I,{size:16})})]})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg overflow-hidden "+("mobile"===ye?"max-w-xs mx-auto":""),children:e.jsxs("div",{className:"bg-white p-4 text-xs",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"font-bold text-sm text-gray-900",children:ze.profile?.name||"Your Name"}),e.jsx("p",{className:"text-gray-600",children:ze.profile?.email||"your.email@example.com"}),e.jsx("p",{className:"text-gray-600",children:ze.profile?.headline||"Professional Headline"})]}),ze.summary&&e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Summary"}),e.jsxs("p",{className:"text-gray-700 text-xs leading-relaxed",children:[ze.summary.substring(0,120),"..."]})]}),ze.experience?.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Experience"}),ze.experience.slice(0,2).map((s,t)=>e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"font-medium text-xs",children:s.role||"Role"}),e.jsx("p",{className:"text-gray-600 text-xs",children:s.company||"Company"})]},t))]}),ze.skills?.core?.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:ze.skills.core.slice(0,4).map((s,t)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs",children:s},t))})]})]})}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Live preview updates as you type"}),e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsx(T,{className:"text-yellow-400",size:14}),e.jsx(T,{className:"text-yellow-400",size:14}),e.jsx(T,{className:"text-yellow-400",size:14}),e.jsx(T,{className:"text-yellow-400",size:14}),e.jsx(T,{className:"text-gray-300",size:14})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"ATS Score: 85%"})]})]})})]})}),ve&&e.jsx(X,{onClose:()=>Ne(!1)}),ie&&e.jsx(Q,{onClose:()=>ne(!1),onImport:async e=>{try{const s=await U.parseLinkedInPDF(e);s.success&&(Object.keys(s.data).forEach(e=>{s.data[e]&&Te(e,s.data[e])}),ne(!1))}catch(s){console.error("LinkedIn import failed:",s)}}})]})},X=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-xl p-8 max-w-md mx-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-purple-100 text-purple-600 p-3 rounded-full inline-block mb-4",children:e.jsx(P,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Upgrade to Premium"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Unlock unlimited AI enhancements, premium templates, and advanced features."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{className:"w-full bg-purple-600 text-white py-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors",children:"Upgrade Now - $9.99/month"}),e.jsx("button",{onClick:s,className:"w-full text-gray-600 hover:text-gray-800",children:"Maybe Later"})]})]})})}),Q=({onClose:s,onImport:t})=>{const[a,i]=r.useState(!1);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 max-w-lg mx-4",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"bg-blue-100 text-blue-600 p-3 rounded-full inline-block mb-4",children:e.jsx(R,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Import from LinkedIn"}),e.jsx("p",{className:"text-gray-600",children:"Upload your LinkedIn PDF export to auto-fill your resume"})]}),e.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center transition-colors "+(a?"border-blue-500 bg-blue-50":"border-gray-300"),onDragOver:e=>{e.preventDefault(),i(!0)},onDragLeave:()=>i(!1),onDrop:e=>{e.preventDefault(),i(!1);const s=e.dataTransfer.files;s[0]&&t(s[0])},children:[e.jsx(R,{size:48,className:"mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Drag and drop your LinkedIn PDF here"}),e.jsx("p",{className:"text-sm text-gray-500",children:"or click to browse files"}),e.jsx("input",{type:"file",accept:".pdf",className:"hidden",onChange:e=>e.target.files[0]&&t(e.target.files[0])})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:s,className:"flex-1 border border-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{className:"flex-1 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Files"})]})]})})};export{$ as default};
